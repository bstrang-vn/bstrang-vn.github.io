(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2a95be42"],{"04d1":function(e,t,n){var r=n("342f"),o=r.match(/firefox\/(\d+)/i);e.exports=!!o&&+o[1]},"056c":function(e,t,n){},"10a4":function(e,t,n){},"15fd":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("a4d3"),n("b64b");function r(e,t){if(null==e)return{};var n,r,o={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function o(e,t){if(null==e)return{};var n,o,c=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}},"34a4":function(e,t,n){"use strict";n("10a4")},"4e82":function(e,t,n){"use strict";var r=n("23e7"),o=n("59ed"),c=n("7b0b"),a=n("07fa"),i=n("577e"),u=n("d039"),s=n("addb"),l=n("a640"),d=n("04d1"),b=n("d998"),f=n("2d00"),O=n("512c"),j=[],h=j.sort,m=u((function(){j.sort(void 0)})),p=u((function(){j.sort(null)})),g=l("sort"),v=!u((function(){if(f)return f<70;if(!(d&&d>3)){if(b)return!0;if(O)return O<603;var e,t,n,r,o="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)j.push({k:t+r,v:n})}for(j.sort((function(e,t){return t.v-e.v})),r=0;r<j.length;r++)t=j[r].k.charAt(0),o.charAt(o.length-1)!==t&&(o+=t);return"DGBEFHACIJK"!==o}})),y=m||!p||!g||!v,x=function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:i(t)>i(n)?1:-1}};r({target:"Array",proto:!0,forced:y},{sort:function(e){void 0!==e&&o(e);var t=c(this);if(v)return void 0===e?h.call(t):h.call(t,e);var n,r,i=[],u=a(t);for(r=0;r<u;r++)r in t&&i.push(t[r]);i=s(i,x(e)),n=i.length,r=0;while(r<n)t[r]=i[r++];while(r<u)delete t[r++];return t}})},"512c":function(e,t,n){var r=n("342f"),o=r.match(/AppleWebKit\/(\d+)\./);e.exports=!!o&&+o[1]},"7db0":function(e,t,n){"use strict";var r=n("23e7"),o=n("b727").find,c=n("44d2"),a="find",i=!0;a in[]&&Array(1)[a]((function(){i=!1})),r({target:"Array",proto:!0,forced:i},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),c(a)},"83eb":function(e,t,n){"use strict";var r=n("7a23"),o=function(e){return Object(r["L"])("data-v-4c173066"),e=e(),Object(r["J"])(),e},c={class:"flex items-center mb-2"},a=o((function(){return Object(r["m"])("div",{class:"w-100px flex-none"},"Tên",-1)})),i={class:"flex items-center mb-2"},u=o((function(){return Object(r["m"])("div",{class:"w-100px flex-none"},"Nhóm",-1)})),s={class:"flex items-center mb-2"},l=o((function(){return Object(r["m"])("div",{class:"w-100px flex-none"},"Đơn vị",-1)})),d={class:"flex items-center mb-2"},b=o((function(){return Object(r["m"])("div",{class:"w-100px flex-none"},"Giá Sỉ",-1)})),f={class:"flex items-center mb-2"},O=o((function(){return Object(r["m"])("div",{class:"w-100px flex-none"},"Giá Lẻ",-1)}));function j(e,t,n,o,j,h){var m=Object(r["R"])("a-input"),p=Object(r["R"])("a-select-option"),g=Object(r["R"])("a-select"),v=Object(r["R"])("a-modal");return Object(r["I"])(),Object(r["j"])(v,{visible:o.visibleModal,"onUpdate:visible":t[5]||(t[5]=function(e){return o.visibleModal=e}),width:"900px",title:"Tạo Sản Phẩm Mới","confirm-loading":o.confirmModalLoading,afterClose:h.refreshModal,onOk:h.handleModalGoodsOk},{default:Object(r["cb"])((function(){return[Object(r["m"])("form",null,[Object(r["m"])("div",c,[a,Object(r["o"])(m,{value:o.goods.goodsName,"onUpdate:value":t[0]||(t[0]=function(e){return o.goods.goodsName=e}),class:"flex-auto"},null,8,["value"])]),Object(r["m"])("div",i,[u,Object(r["o"])(g,{ref:"select",value:o.goods.group,"onUpdate:value":t[1]||(t[1]=function(e){return o.goods.group=e}),class:"flex-auto"},{default:Object(r["cb"])((function(){return[(Object(r["I"])(!0),Object(r["l"])(r["b"],null,Object(r["P"])(o.UTILS_GOODSTYPE.group,(function(e,t){return Object(r["I"])(),Object(r["j"])(p,{key:t,value:e},{default:Object(r["cb"])((function(){return[Object(r["n"])(Object(r["V"])(e),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["value"])]),Object(r["m"])("div",s,[l,Object(r["o"])(g,{ref:"select",value:o.goods.unit,"onUpdate:value":t[2]||(t[2]=function(e){return o.goods.unit=e}),class:"flex-auto"},{default:Object(r["cb"])((function(){return[(Object(r["I"])(!0),Object(r["l"])(r["b"],null,Object(r["P"])(o.UTILS_GOODSTYPE.unit,(function(e,t){return Object(r["I"])(),Object(r["j"])(p,{key:t,value:e},{default:Object(r["cb"])((function(){return[Object(r["n"])(Object(r["V"])(e),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["value"])]),Object(r["m"])("div",d,[b,Object(r["o"])(m,{value:o.goods.wholesalePrice,"onUpdate:value":t[3]||(t[3]=function(e){return o.goods.wholesalePrice=e}),valueModifiers:{number:!0},"addon-after":".000 vnđ",type:"number",class:"flex-auto"},null,8,["value"])]),Object(r["m"])("div",f,[O,Object(r["o"])(m,{value:o.goods.retailPrice,"onUpdate:value":t[4]||(t[4]=function(e){return o.goods.retailPrice=e}),valueModifiers:{number:!0},"addon-after":".000 vnđ",type:"number",class:"flex-auto"},null,8,["value"])])])]})),_:1},8,["visible","confirm-loading","afterClose","onOk"])}var h=n("1da1"),m=(n("96cf"),n("7db0"),n("b65c")),p=n("c9d9"),g={setup:function(){return{visibleModal:Object(r["N"])(!1),confirmModalLoading:Object(r["N"])(!1),goods:Object(r["N"])({goodsID:"",goodsName:"",group:"",unit:"",retailPrice:"",wholesalePrice:""}),goodsArray:m["c"],UTILS_GOODSTYPE:p["b"]}},methods:{openModal:function(e){if(this.visibleModal=!0,e){var t=this.goodsArray.find((function(t){return t.goodsID===e}));this.goods.goodsID=e,this.goods.goodsName=t.goodsName,this.goods.group=t.group,this.goods.unit=t.unit,this.goods.retailPrice=t.retailPrice,this.goods.wholesalePrice=t.wholesalePrice}},refreshModal:function(){this.goods.goodsID="",this.goods.goodsName="",this.goods.group="",this.goods.unit="",this.goods.retailPrice="",this.goods.wholesalePrice="",this.confirmModalLoading=!1},handleModalGoodsOk:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.confirmModalLoading=!0,n={goodsName:e.goods.goodsName,group:e.goods.group,unit:e.goods.unit,wholesalePrice:e.goods.wholesalePrice,retailPrice:e.goods.retailPrice},t.prev=2,e.goods.goodsID){t.next=10;break}return t.next=6,Object(m["a"])(n);case 6:r=t.sent,e.$emit("actionGoods",r),t.next=14;break;case 10:return t.next=12,Object(m["e"])(e.goods.goodsID,n);case 12:o=t.sent,e.$emit("actionGoods",o);case 14:e.visibleModal=!1,t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](2),console.log(t.t0);case 20:case"end":return t.stop()}}),t,null,[[2,17]])})))()}}},v=(n("f4ab"),n("6b0d")),y=n.n(v);const x=y()(g,[["render",j],["__scopeId","data-v-4c173066"]]);t["a"]=x},8468:function(e,t,n){"use strict";function r(e){if(null==e)throw new TypeError("Cannot destructure undefined")}n.d(t,"a",(function(){return r}))},addb:function(e,t){var n=Math.floor,r=function(e,t){var a=e.length,i=n(a/2);return a<8?o(e,t):c(r(e.slice(0,i),t),r(e.slice(i),t),t)},o=function(e,t){var n,r,o=e.length,c=1;while(c<o){r=c,n=e[c];while(r&&t(e[r-1],n)>0)e[r]=e[--r];r!==c++&&(e[r]=n)}return e},c=function(e,t,n){var r=e.length,o=t.length,c=0,a=0,i=[];while(c<r||a<o)c<r&&a<o?i.push(n(e[c],t[a])<=0?e[c++]:t[a++]):i.push(c<r?e[c++]:t[a++]);return i};e.exports=r},afe2:function(e,t,n){"use strict";n.r(t);var r=n("8468"),o=(n("a9e3"),n("ac1f"),n("1276"),n("b64b"),n("7a23")),c=function(e){return Object(o["L"])("data-v-4b0f4bd0"),e=e(),Object(o["J"])(),e},a=c((function(){return Object(o["m"])("h1",{class:"title-content"},"Kho hàng",-1)})),i={class:"flex justify-between mb-2 items-center"},u={class:"input-text"},s=["value"],l=Object(o["n"])(" Tạo Mới "),d={class:"wrapper-table"},b={class:"table"},f=c((function(){return Object(o["m"])("thead",null,[Object(o["m"])("th",null,"#"),Object(o["m"])("th",{style:{width:"40%"}},"Tên"),Object(o["m"])("th",{style:{width:"11%"}},"HSD"),Object(o["m"])("th",{style:{width:"11%"}},"SL"),Object(o["m"])("th",{style:{width:"11%"}},"Nhập"),Object(o["m"])("th",{style:{width:"11%"}},"Sỉ"),Object(o["m"])("th",{style:{width:"11%"}},"Lẻ")],-1)})),O={style:{"text-align":"right"}},j={key:0},h=c((function(){return Object(o["m"])("td",{colspan:"8",style:{"text-align":"center"}},"No data available in table",-1)})),m=[h],p=["onDblclick"],g={style:{"text-align":"center"}},v={style:{"text-align":"left"}},y={class:"font-bold"},x={key:0,style:{color:"red"}},w={key:0},k={class:"flex justify-end mt-2"},I=Object(o["n"])(" Tổng Tiền : "),P={class:"font-bold"},T={class:"mt-4"},N=Object(o["n"])("Back");function D(e,t,n,c,h,D){var M=Object(o["R"])("PlusOutlined"),S=Object(o["R"])("a-button"),A=Object(o["R"])("ModalCreateModifyGoods");return Object(o["I"])(),Object(o["l"])(o["b"],null,[a,Object(o["m"])("div",i,[Object(o["m"])("div",u,[Object(o["m"])("input",{value:c.searchText,onInput:t[0]||(t[0]=function(){return D.handleSearchText&&D.handleSearchText.apply(D,arguments)}),type:"text",placeholder:"Search..."},null,40,s)]),Object(o["o"])(S,{type:"primary",onClick:D.openModalCreateModifyGoods},{icon:Object(o["cb"])((function(){return[Object(o["o"])(M)]})),default:Object(o["cb"])((function(){return[l]})),_:1},8,["onClick"])]),Object(o["o"])(A,{ref:"modalCreateModifyGoods"},null,512),Object(o["m"])("div",d,[Object(o["m"])("table",b,[f,Object(o["m"])("tbody",O,[0===D.goodsFilter.length?(Object(o["I"])(),Object(o["l"])("tr",j,m)):Object(o["k"])("",!0),(Object(o["I"])(!0),Object(o["l"])(o["b"],null,Object(o["P"])(D.goodsFilter,(function(e,t){return Object(o["I"])(),Object(o["l"])("tr",{key:t,onDblclick:function(t){return D.openGoodsDetails(e.goodsID)}},[Object(o["m"])("td",g,Object(o["V"])(t+1),1),Object(o["m"])("td",v,Object(o["V"])(e.goodsName),1),Object(o["m"])("td",null,[(Object(o["I"])(!0),Object(o["l"])(o["b"],null,Object(o["P"])(e.stockAvail,(function(e,t,n){return Object(r["a"])(e),Object(o["I"])(),Object(o["l"])("p",{key:n},Object(o["V"])(D.formatDateTime(Number(t.split("-")[0]))||"-"),1)})),128))]),Object(o["m"])("td",y,[0==Object.keys(e.stockAvail).length?(Object(o["I"])(),Object(o["l"])("p",x,"0")):Object(o["k"])("",!0),(Object(o["I"])(!0),Object(o["l"])(o["b"],null,Object(o["P"])(e.stockAvail,(function(e,t,n){var r=e.quantity;return Object(o["I"])(),Object(o["l"])("p",{key:n},Object(o["V"])(r||"-"),1)})),128))]),Object(o["m"])("td",null,[0==Object.keys(e.stockAvail).length?(Object(o["I"])(),Object(o["l"])("p",w,Object(o["V"])(e.costPrice),1)):Object(o["k"])("",!0),(Object(o["I"])(!0),Object(o["l"])(o["b"],null,Object(o["P"])(e.stockAvail,(function(e,t,n){return Object(r["a"])(e),Object(o["I"])(),Object(o["l"])("p",{key:n},Object(o["V"])(t.split("-")[1]||"-"),1)})),128))]),Object(o["m"])("td",null,Object(o["V"])(e.wholesalePrice),1),Object(o["m"])("td",null,Object(o["V"])(e.retailPrice),1)],40,p)})),128))])])]),Object(o["m"])("div",k,[I,Object(o["m"])("span",P,Object(o["V"])(D.formatNumber(D.warehouseCost)),1)]),Object(o["m"])("div",T,[Object(o["o"])(S,{onClick:t[1]||(t[1]=function(t){return e.$router.push({name:"Dashboard",params:{}})})},{default:Object(o["cb"])((function(){return[N]})),_:1})])],64)}var M=n("3835"),S=(n("4e82"),n("4de4"),n("4fad"),n("47ce")),A=n("b65c"),R=n("83eb"),C=n("bcc2"),E={components:{PlusOutlined:S["a"],ModalCreateModifyGoods:R["a"]},setup:function(){return{goodsArray:A["c"],searchText:Object(o["N"])("")}},computed:{goodsFilter:function(){var e=this;return this.goodsArray.filter((function(t){return Object(C["c"])(t.goodsName,e.searchText)})).sort((function(e,t){return e.goodsName>t.goodsName?1:e.goodsName<t.goodsName?-1:0}))},warehouseCost:function(){return this.goodsArray.reduce((function(e,t){var n=Object.entries(t.stockAvail).reduce((function(e,t){var n=Object(M["a"])(t,2),r=n[0],o=n[1].quantity,c=o*Number(r.split("-")[1]);return e+c}),0);return e+n}),0)}},methods:{handleSearchText:function(e){this.searchText=e.target.value},openModalCreateModifyGoods:function(){this.$refs.modalCreateModifyGoods.openModal()},openGoodsDetails:function(e){this.$router.push({name:"Goods Details",params:{id:e}})},formatDateTime:function(e){return Object(C["a"])(e,"MM/YY")},formatNumber:function(e){return Object(C["b"])(e,3)}}},L=(n("34a4"),n("6b0d")),G=n.n(L);const U=G()(E,[["render",D],["__scopeId","data-v-4b0f4bd0"]]);t["default"]=U},b65c:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return b})),n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return O}));var r=n("15fd"),o=n("1da1"),c=n("5530"),a=(n("96cf"),n("159b"),n("c740"),n("a434"),n("d81d"),n("d3b7"),n("3ca3"),n("ddb0"),n("e71f")),i=n("7a23"),u=["exportNoteIDList","importNoteIDList"],s=Object(i["M"])([]),l=Object(a["j"])();Object(a["l"])(Object(a["n"])(Object(a["d"])(l,"WAREHOUSE")),(function(e){e.docChanges().forEach((function(e){var t=Object(c["a"])({goodsID:e.doc.id},e.doc.data()),n=s.findIndex((function(t){return t.goodsID===e.doc.id}));"added"===e.type?s.push(t):"modified"===e.type?s.splice(n,1,t):"removed"===e.type&&s.splice(n,1)}))}));var d=function(e){var t=Object(i["N"])({}),n=Object(a["l"])(Object(a["g"])(l,"WAREHOUSE",e),function(){var n=Object(o["a"])(regeneratorRuntime.mark((function n(o){var i,s,d,b,f,O,j,h,m,p;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=o.data(),s=i.exportNoteIDList,d=i.importNoteIDList,b=Object(r["a"])(i,u),f=d.map((function(e){return Object(a["h"])(Object(a["g"])(l,"IMPORTNOTE",e))})),O=s.map((function(e){return Object(a["h"])(Object(a["g"])(l,"EXPORTNOTE",e))})),n.next=5,Promise.all(f);case 5:return j=n.sent,n.next=8,Promise.all(O);case 8:h=n.sent,m={},p={},j.forEach((function(e){m[e.id]=e.data()})),h.forEach((function(e){p[e.id]=e.data()})),t.value=Object(c["a"])(Object(c["a"])({goodsID:e},b),{},{exportNoteList:p,importNoteList:m});case 13:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());return{data:t,unSubscribe:n}},b=function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,r,o,i,u,s,d,b;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.goodsName,r=t.group,o=t.unit,i=t.costPrice,u=t.retailPrice,s=t.wholesalePrice,e.next=3,Object(a["a"])(Object(a["d"])(l,"WAREHOUSE"),{goodsName:n,group:r,unit:o,costPrice:i,retailPrice:u,wholesalePrice:s,stockAvail:{},importNoteIDList:[],exportNoteIDList:[],createdAt:(new Date).getTime(),updatedAt:(new Date).getTime(),removedAt:0});case 3:return d=e.sent,e.next=6,Object(a["h"])(d);case 6:return b=e.sent,e.abrupt("return",Object(c["a"])({goodsID:b.id},b.data()));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Object(a["g"])(l,"WAREHOUSE",t),e.next=3,Object(a["q"])(r,Object(c["a"])(Object(c["a"])({},n),{},{updatedAt:(new Date).getTime()}));case 3:return e.next=5,Object(a["h"])(r);case 5:return o=e.sent,e.abrupt("return",Object(c["a"])({goodsID:o.id},o.data()));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["e"])(Object(a["g"])(l,"WAREHOUSE",t));case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},c9d9:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return c}));var r={group:["Đặc Trị","Kem Dưỡng","Kem Chống Nắng","Sữa Rửa Mặt","Tẩy Trang","Tẩy Da Chết","Toner","Serum","Sữa Tắm","Thuốc Viên","Khác"],unit:["Hộp","Chai","Tuýp","Lọ","Ống","Cái","Túi","Khác"]},o={shipping:{units:["VTP","Shopee","GHTK","Thường"]},payment:{method:["CK","COD"]},status:["Pending","Success"]},c={status:["Pending","Success"]}},d81d:function(e,t,n){"use strict";var r=n("23e7"),o=n("b727").map,c=n("1dde"),a=c("map");r({target:"Array",proto:!0,forced:!a},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},d998:function(e,t,n){var r=n("342f");e.exports=/MSIE|Trident/.test(r)},f4ab:function(e,t,n){"use strict";n("056c")}}]);
//# sourceMappingURL=chunk-2a95be42.d75110de.js.map