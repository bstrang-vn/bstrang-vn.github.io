{"version":3,"sources":["webpack:///./src/components/setting/Setting.vue","webpack:///./src/firebase/useSettingData.js","webpack:///./src/components/setting/Setting.vue?1ab4","webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","webpack:///./src/firebase/useCustomer.js","webpack:///./src/firebase/useWarehouse.js","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["style","type","query","loading","buttonLoading","updateDocument","fakeData","title","ok-text","cancel-text","clearData","danger","db","getFirestore","clearDataCollection","COLECTTION_NAME","getDocs","collection","querySnapshot","forEach","docSnap","deleteDoc","ref","clearAllData","Promise","all","createFakeData","warehouseRefList","doc","importNoteRefList","exportNoteRefList","providerRef","customerRef","fakeWarehouse","setDoc","goodsName","group","unit","retailPrice","wholesalePrice","stockAvail","Date","getTime","quantity","importNoteIDList","id","exportNoteIDList","createdAt","updatedAt","removedAt","fakeProvider","providerName","phone","address","fakeCustomer","customerName","finance","debt","payDebtHistory","time","money","fakeImportNote","provider","providerID","stockIn","shipping","cost","totalMoney","status","fakeExportNote","customer","customerID","stockOut","expectedPrice","actualPrice","payment","method","revenue","profit","sellerPaysShip","buyerPaysShip","testQuery","list","customerArray","map","updateDoc","deleteField","testUpdateDocument","COLLECTION","aaa","increment","setup","methods","__exports__","render","_objectWithoutPropertiesLoose","source","excluded","key","i","target","sourceKeys","Object","keys","length","indexOf","_objectWithoutProperties","objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","reactive","qr","onSnapshot","snapshot","docChanges","change","newCustomer","data","customerIndex","findIndex","item","push","splice","startRealtimeCustomer","unSubscribe","customerDoc","exists","value","getCustomer","getDoc","customerSnap","addCustomer","addDoc","updateCustomer","customerData","addPayDebt","listNoteDebt","numberPay","runTransaction","transaction","exportNoteID","update","arrayUnion","deleteCustomer","goodsArray","newGoods","goodsID","goodsIndex","startRealtimeGoods","goodsDoc","goodsData","getImportNoteList","noteID","getExportNoteList","importNoteSnapList","exportNoteSnapList","importNoteList","exportNoteList","noteSnap","addGoods","newData","costPrice","docRef","updateGoods","deleteGoods","$","$map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","proto","forced","callbackfn","this","arguments","undefined"],"mappings":"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","file":"js/chunk-6fc2f8f8.de05cacc.js","sourcesContent":["<template>\n\t<div style=\"margin: 1rem\">\n\t\t<a-button type=\"primary\" @click=\"query\" :loading=\"buttonLoading\">Test Query</a-button>\n\t</div>\n\t<div style=\"margin: 1rem\">\n\t\t<a-button type=\"primary\" @click=\"updateDocument\" :loading=\"buttonLoading\">Update Document</a-button>\n\t</div>\n\t<div style=\"margin: 1rem\">\n\t\t<a-button type=\"primary\" @click=\"fakeData\" :loading=\"buttonLoading\">Fake Data</a-button>\n\t</div>\n\t<div style=\"margin: 1rem\">\n\t\t<a-popconfirm title=\"Are you sure you want to reset Data?\" ok-text=\"Yes\" cancel-text=\"No\" @confirm=\"clearData\">\n\t\t\t<a-button type=\"primary\" :loading=\"buttonLoading\" danger>Clear Data</a-button>\n\t\t</a-popconfirm>\n\t</div>\n</template>\n\n<script>\nimport { ref } from 'vue'\nimport { clearAllData, createFakeData, testQuery, testUpdateDocument } from '@/firebase/useSettingData'\n\nexport default {\n\tsetup() {\n\t\treturn { buttonLoading: ref(false) }\n\t},\n\tmethods: {\n\t\tasync clearData() {\n\t\t\tthis.buttonLoading = true\n\t\t\tawait clearAllData()\n\t\t\tthis.buttonLoading = false\n\t\t},\n\t\tasync fakeData() {\n\t\t\tthis.buttonLoading = true\n\t\t\tawait createFakeData()\n\t\t\tthis.buttonLoading = false\n\t\t},\n\t\tasync query() {\n\t\t\tthis.buttonLoading = true\n\t\t\tawait testQuery()\n\t\t\tthis.buttonLoading = false\n\t\t},\n\t\tasync updateDocument() {\n\t\t\tthis.buttonLoading = true\n\t\t\tawait testUpdateDocument('EXPORTNOTE', 'RE44UkXN1jcwLBYZgyVD')\n\t\t\tthis.buttonLoading = false\n\t\t},\n\t},\n}\n</script>\n\n<style></style>\n","import {\n\tgetFirestore,\n\tcollection,\n\tdoc,\n\tgetDoc,\n\tsetDoc,\n\tupdateDoc,\n\tgetDocs,\n\tdeleteDoc,\n\tquery,\n\twhere,\n\tlimit,\n\tincrement,\n\tdeleteField,\n} from 'firebase/firestore'\nimport { goodsArray } from '@/firebase/useWarehouse'\nimport { customerArray } from '@/firebase/useCustomer'\nimport { MyFormatDateTime } from '@/utils/convert'\n\nconst db = getFirestore()\n\nconst clearDataCollection = async COLECTTION_NAME => {\n\tconst querySnapshot = await getDocs(collection(db, COLECTTION_NAME))\n\tquerySnapshot.forEach(docSnap => {\n\t\tdeleteDoc(docSnap.ref)\n\t})\n}\n\nconst clearAllData = async () => {\n\tawait Promise.all([\n\t\tclearDataCollection('CUSTOMER'),\n\t\tclearDataCollection('PROVIDER'),\n\t\tclearDataCollection('WAREHOUSE'),\n\t\tclearDataCollection('IMPORTNOTE'),\n\t\tclearDataCollection('EXPORTNOTE'),\n\t])\n}\n\nconst createFakeData = async () => {\n\tconst warehouseRefList = [doc(collection(db, 'WAREHOUSE')), doc(collection(db, 'WAREHOUSE'))]\n\tconst importNoteRefList = [doc(collection(db, 'IMPORTNOTE')), doc(collection(db, 'IMPORTNOTE'))]\n\tconst exportNoteRefList = [\n\t\tdoc(collection(db, 'EXPORTNOTE')),\n\t\tdoc(collection(db, 'EXPORTNOTE')),\n\t\tdoc(collection(db, 'EXPORTNOTE')),\n\t]\n\tconst providerRef = doc(collection(db, 'PROVIDER'))\n\tconst customerRef = doc(collection(db, 'CUSTOMER'))\n\n\tconst fakeWarehouse = [\n\t\tsetDoc(warehouseRefList[0], {\n\t\t\tgoodsName: 'Serum Obagi',\n\t\t\tgroup: 'Dưỡng Da',\n\t\t\tunit: 'Chai',\n\t\t\tretailPrice: 80,\n\t\t\twholesalePrice: 70,\n\t\t\tstockAvail: {\n\t\t\t\t[`${new Date('2022-03-01').getTime()}-${50}`]: { quantity: 100 },\n\t\t\t\t[`${new Date('2023-11-11').getTime()}-${60}`]: { quantity: 100 },\n\t\t\t},\n\t\t\timportNoteIDList: [importNoteRefList[0].id, importNoteRefList[1].id],\n\t\t\texportNoteIDList: [exportNoteRefList[0].id, exportNoteRefList[1].id, exportNoteRefList[2].id],\n\t\t\tcreatedAt: new Date('2021-08-09').getTime(),\n\t\t\tupdatedAt: new Date().getTime(),\n\t\t\tremovedAt: 0,\n\t\t}),\n\t\tsetDoc(warehouseRefList[1], {\n\t\t\tgoodsName: 'Demafort 600ml',\n\t\t\tgroup: 'Kem Chống Nắng',\n\t\t\tunit: 'Lọ',\n\t\t\tretailPrice: 550,\n\t\t\twholesalePrice: 500,\n\t\t\tstockAvail: {\n\t\t\t\t[`${new Date('2022-06-03').getTime()}-${225}`]: { quantity: 100 },\n\t\t\t\t[`${new Date('2023-07-12').getTime()}-${250}`]: { quantity: 100 },\n\t\t\t\t[`${new Date('wrong !!').getTime()}-${200}`]: { quantity: 100 },\n\t\t\t},\n\t\t\timportNoteIDList: [importNoteRefList[0].id, importNoteRefList[1].id],\n\t\t\texportNoteIDList: [exportNoteRefList[0].id, exportNoteRefList[1].id, exportNoteRefList[2].id],\n\t\t\tcreatedAt: new Date('2021-08-09').getTime(),\n\t\t\tupdatedAt: new Date().getTime(),\n\t\t\tremovedAt: 0,\n\t\t}),\n\t]\n\n\tconst fakeProvider = setDoc(providerRef, {\n\t\tproviderName: 'Ngô Nhật Dương',\n\t\tphone: '0988201219',\n\t\taddress: 'số 8 - Thạch Bàn - Long Biên - Hag Nội',\n\t\timportNoteIDList: [importNoteRefList[0].id, importNoteRefList[1].id],\n\t\tcreatedAt: new Date('2019-12-20').getTime(),\n\t\tupdatedAt: new Date().getTime(),\n\t\tremovedAt: 0,\n\t})\n\n\tconst fakeCustomer = setDoc(customerRef, {\n\t\tcustomerName: 'Phạm Hoàng Mai',\n\t\tphone: '0978156328',\n\t\taddress: '04/12 Hàng Mã - Hoàn Kiếm - Hà Nội',\n\t\tfinance: {\n\t\t\tdebt: 13425,\n\t\t\tpayDebtHistory: [\n\t\t\t\t{ time: new Date('2015-02-03').getTime(), money: 100 },\n\t\t\t\t{ time: new Date('2012-04-07').getTime(), money: 2000 },\n\t\t\t],\n\t\t},\n\t\texportNoteIDList: [exportNoteRefList[0].id, exportNoteRefList[1].id, exportNoteRefList[2].id],\n\t\tcreatedAt: new Date('2015-02-03').getTime(),\n\t\tupdatedAt: new Date().getTime(),\n\t\tremovedAt: 0,\n\t})\n\n\tconst fakeImportNote = [\n\t\tsetDoc(importNoteRefList[0], {\n\t\t\tprovider: {\n\t\t\t\tproviderID: providerRef.id,\n\t\t\t\tproviderName: 'Ngô Nhật Dương',\n\t\t\t},\n\t\t\tstockIn: {\n\t\t\t\t[warehouseRefList[0].id]: {\n\t\t\t\t\t[`${new Date('2022-03-01').getTime()}-${50}`]: { quantity: 10 },\n\t\t\t\t\t[`${new Date('2023-11-11').getTime()}-${60}`]: { quantity: 20 },\n\t\t\t\t},\n\t\t\t\t[warehouseRefList[1].id]: {\n\t\t\t\t\t[`${new Date('2023-07-12').getTime()}-${250}`]: { quantity: 1 },\n\t\t\t\t\t[`${new Date('wrong !!').getTime()}-${200}`]: { quantity: 3 },\n\t\t\t\t},\n\t\t\t},\n\t\t\tshipping: { cost: 30 },\n\t\t\tfinance: { totalMoney: 120 },\n\t\t\tstatus: 'Success',\n\t\t\tcreatedAt: new Date('2019-12-20').getTime(),\n\t\t\tupdatedAt: new Date().getTime(),\n\t\t\tremovedAt: 0,\n\t\t}),\n\t\tsetDoc(importNoteRefList[1], {\n\t\t\tprovider: {\n\t\t\t\tproviderID: providerRef.id,\n\t\t\t\tproviderName: 'Ngô Nhật Dương',\n\t\t\t},\n\t\t\tstockIn: {\n\t\t\t\t[warehouseRefList[0].id]: {\n\t\t\t\t\t[`${new Date('2022-03-01').getTime()}-${50}`]: { quantity: 15 },\n\t\t\t\t\t[`${new Date('2023-11-11').getTime()}-${60}`]: { quantity: 1 },\n\t\t\t\t},\n\t\t\t\t[warehouseRefList[1].id]: {\n\t\t\t\t\t[`${new Date('2023-07-12').getTime()}-${250}`]: { quantity: 2 },\n\t\t\t\t\t[`${new Date('2022-06-03').getTime()}-${225}`]: { quantity: 10 },\n\t\t\t\t},\n\t\t\t},\n\t\t\tshipping: { cost: 30 },\n\t\t\tfinance: { totalMoney: 120 },\n\t\t\tstatus: 'Success',\n\t\t\tcreatedAt: new Date('2008-10-04').getTime(),\n\t\t\tupdatedAt: new Date().getTime(),\n\t\t\tremovedAt: 0,\n\t\t}),\n\t]\n\n\tconst fakeExportNote = [\n\t\tsetDoc(exportNoteRefList[0], {\n\t\t\tcustomer: {\n\t\t\t\tcustomerName: 'Phạm Hoàng Mai',\n\t\t\t\tcustomerID: customerRef.id,\n\t\t\t},\n\t\t\tstockOut: {\n\t\t\t\t[warehouseRefList[0].id]: {\n\t\t\t\t\t[`${new Date('2022-03-01').getTime()}-${50}`]: {\n\t\t\t\t\t\tquantity: 20,\n\t\t\t\t\t\texpectedPrice: 80,\n\t\t\t\t\t\tactualPrice: 50,\n\t\t\t\t\t},\n\t\t\t\t\t[`${new Date('2024-05-07').getTime()}-${45}`]: {\n\t\t\t\t\t\tquantity: 50,\n\t\t\t\t\t\texpectedPrice: 70,\n\t\t\t\t\t\tactualPrice: 60,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t[warehouseRefList[1].id]: {\n\t\t\t\t\t[`${new Date('2023-07-12').getTime()}-${250}`]: {\n\t\t\t\t\t\tquantity: 10,\n\t\t\t\t\t\texpectedPrice: 550,\n\t\t\t\t\t\tactualPrice: 520,\n\t\t\t\t\t},\n\t\t\t\t\t[`${new Date('2021-11-05').getTime()}-${230}`]: {\n\t\t\t\t\t\tquantity: 5,\n\t\t\t\t\t\texpectedPrice: 500,\n\t\t\t\t\t\tactualPrice: 480,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tshipping: {\n\t\t\t\tunit: 'Viettel Post' || 'Shoppee' || 'Giao Hàng Tiết Kiệm' || 'Ship Thường',\n\t\t\t},\n\t\t\tpayment: {\n\t\t\t\tmethod: 'Bank Transfer' || 'COD',\n\t\t\t},\n\t\t\tfinance: {\n\t\t\t\trevenue: 11600,\n\t\t\t\tprofit: 1500,\n\t\t\t\tsellerPaysShip: 0,\n\t\t\t\tbuyerPaysShip: 100,\n\t\t\t\tdebt: 2100,\n\t\t\t},\n\t\t\tstatus: 'Success',\n\t\t\tcreatedAt: new Date('2009-12-01').getTime(),\n\t\t\tupdatedAt: new Date().getTime(),\n\t\t\tremovedAt: 0,\n\t\t}),\n\t\tsetDoc(exportNoteRefList[1], {\n\t\t\tcustomer: {\n\t\t\t\tcustomerName: 'Phạm Hoàng Mai',\n\t\t\t\tcustomerID: customerRef.id,\n\t\t\t},\n\t\t\tstockOut: {\n\t\t\t\t[warehouseRefList[0].id]: {\n\t\t\t\t\t[`${new Date('2022-03-01').getTime()}-${50}`]: {\n\t\t\t\t\t\tquantity: 20,\n\t\t\t\t\t\texpectedPrice: 80,\n\t\t\t\t\t\tactualPrice: 75,\n\t\t\t\t\t},\n\t\t\t\t\t[`${new Date('2024-05-07').getTime()}-${55}`]: {\n\t\t\t\t\t\tquantity: 50,\n\t\t\t\t\t\texpectedPrice: 70,\n\t\t\t\t\t\tactualPrice: 50,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t[warehouseRefList[1].id]: {\n\t\t\t\t\t[`${new Date('2022-06-03').getTime()}-${225}`]: {\n\t\t\t\t\t\tquantity: 10,\n\t\t\t\t\t\texpectedPrice: 500,\n\t\t\t\t\t\tactualPrice: 425,\n\t\t\t\t\t},\n\t\t\t\t\t[`${new Date('2021-11-05').getTime()}-${240}`]: {\n\t\t\t\t\t\tquantity: 5,\n\t\t\t\t\t\texpectedPrice: 500,\n\t\t\t\t\t\tactualPrice: 415,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tshipping: {\n\t\t\t\tunit: 'Viettel Post' || 'Shoppee' || 'Giao Hàng Tiết Kiệm' || 'Ship Thường',\n\t\t\t},\n\t\t\tpayment: {\n\t\t\t\tmethod: 'Bank Transfer' || 'COD',\n\t\t\t},\n\t\t\tfinance: {\n\t\t\t\trevenue: 10325,\n\t\t\t\tprofit: 2000,\n\t\t\t\tsellerPaysShip: 20,\n\t\t\t\tbuyerPaysShip: 0,\n\t\t\t\tdebt: 1000,\n\t\t\t},\n\t\t\tstatus: 'Success',\n\t\t\tcreatedAt: new Date('2012-07-11').getTime(),\n\t\t\tupdatedAt: new Date().getTime(),\n\t\t\tremovedAt: 0,\n\t\t}),\n\t\tsetDoc(exportNoteRefList[2], {\n\t\t\tcustomer: {\n\t\t\t\tcustomerName: 'Phạm Hoàng Mai',\n\t\t\t\tcustomerID: customerRef.id,\n\t\t\t},\n\t\t\tstockOut: {\n\t\t\t\t[warehouseRefList[0].id]: {\n\t\t\t\t\t[`${new Date('2022-03-01').getTime()}-${50}`]: {\n\t\t\t\t\t\tquantity: 20,\n\t\t\t\t\t\texpectedPrice: 80,\n\t\t\t\t\t\tactualPrice: 75,\n\t\t\t\t\t},\n\t\t\t\t\t[`${new Date('2024-05-07').getTime()}-${55}`]: {\n\t\t\t\t\t\tquantity: 50,\n\t\t\t\t\t\texpectedPrice: 70,\n\t\t\t\t\t\tactualPrice: 50,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t[warehouseRefList[1].id]: {\n\t\t\t\t\t[`${new Date('2022-06-03').getTime()}-${225}`]: {\n\t\t\t\t\t\tquantity: 10,\n\t\t\t\t\t\texpectedPrice: 500,\n\t\t\t\t\t\tactualPrice: 425,\n\t\t\t\t\t},\n\t\t\t\t\t[`${new Date('2021-11-05').getTime()}-${240}`]: {\n\t\t\t\t\t\tquantity: 5,\n\t\t\t\t\t\texpectedPrice: 500,\n\t\t\t\t\t\tactualPrice: 415,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tshipping: {\n\t\t\t\tunit: 'Viettel Post' || 'Shoppee' || 'Giao Hàng Tiết Kiệm' || 'Ship Thường',\n\t\t\t},\n\t\t\tpayment: {\n\t\t\t\tmethod: 'Bank Transfer' || 'COD',\n\t\t\t},\n\t\t\tfinance: {\n\t\t\t\trevenue: 10325,\n\t\t\t\tprofit: 2000,\n\t\t\t\tsellerPaysShip: 20,\n\t\t\t\tbuyerPaysShip: 0,\n\t\t\t\tdebt: 10325,\n\t\t\t},\n\t\t\tstatus: 'Success',\n\t\t\tcreatedAt: new Date('2012-07-11').getTime(),\n\t\t\tupdatedAt: new Date().getTime(),\n\t\t\tremovedAt: 0,\n\t\t}),\n\t]\n\tawait Promise.all([...fakeWarehouse, fakeProvider, fakeCustomer, ...fakeImportNote, ...fakeExportNote])\n}\n\nconst testQuery = async () => {\n\tconst list = customerArray.map(customer =>\n\t\tupdateDoc(doc(db, 'CUSTOMER', customer.customerID), {\n\t\t\t'finance.payDebt': deleteField(),\n\t\t\tpayDebtHistory: deleteField(),\n\t\t\t'finance.payDebtHistory': [],\n\t\t}),\n\t)\n\tawait Promise.all(list)\n}\n\nconst testUpdateDocument = async (COLLECTION, id) => {\n\tawait updateDoc(doc(db, COLLECTION, id), {\n\t\taaa: increment(20),\n\t\t'aaa2.haha2.hehe2': increment(20),\n\t\tupdatedAt: new Date().getTime(),\n\t})\n}\nexport { clearAllData, createFakeData, testQuery, testUpdateDocument }\n","import { render } from \"./Setting.vue?vue&type=template&id=59aac924\"\nimport script from \"./Setting.vue?vue&type=script&lang=js\"\nexport * from \"./Setting.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Projects\\\\bstrang-vn\\\\bstrang-vn--vuejs\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","import {\n\tgetFirestore,\n\tonSnapshot,\n\tcollection,\n\tdoc,\n\tgetDoc,\n\taddDoc,\n\tupdateDoc,\n\tdeleteDoc,\n\tquery,\n\trunTransaction,\n\tincrement,\n\tarrayUnion,\n} from 'firebase/firestore'\nimport { reactive, ref } from 'vue'\n\nconst customerArray = reactive([])\nconst db = getFirestore()\nconst qr = query(collection(db, 'CUSTOMER'))\n\nonSnapshot(qr, snapshot => {\n\tsnapshot.docChanges().forEach(change => {\n\t\tconst newCustomer = {\n\t\t\tcustomerID: change.doc.id,\n\t\t\t...change.doc.data(),\n\t\t}\n\t\tconst customerIndex = customerArray.findIndex(item => item.customerID === change.doc.id)\n\t\tif (change.type === 'added') {\n\t\t\tcustomerArray.push(newCustomer)\n\t\t} else if (change.type === 'modified') {\n\t\t\tcustomerArray.splice(customerIndex, 1, newCustomer)\n\t\t} else if (change.type === 'removed') {\n\t\t\tcustomerArray.splice(customerIndex, 1)\n\t\t}\n\t})\n})\n\nconst startRealtimeCustomer = customerID => {\n\tconst data = ref({})\n\tconst unSubscribe = onSnapshot(doc(db, 'CUSTOMER', customerID), async customerDoc => {\n\t\tif (!customerDoc.exists()) return\n\t\tdata.value = {\n\t\t\tcustomerID,\n\t\t\t...customerDoc.data(),\n\t\t}\n\t})\n\treturn { data, unSubscribe }\n}\n\nconst getCustomer = async customerID => {\n\tconst customerRef = doc(db, 'CUSTOMER', customerID)\n\tconst customerSnap = await getDoc(customerRef)\n\tif (!customerSnap.exists()) return {}\n\tconst { customerName, phone, address, finance, exportNoteIDList } = customerSnap.data()\n\treturn {\n\t\tcustomerID,\n\t\tcustomerName,\n\t\tphone,\n\t\taddress,\n\t\tfinance,\n\t\texportNoteIDList,\n\t}\n}\n\nconst addCustomer = async data => {\n\tconst customerRef = await addDoc(collection(db, 'CUSTOMER'), {\n\t\tcustomerName: data.customerName,\n\t\tphone: data.phone,\n\t\taddress: data.address,\n\t\tfinance: { debt: 0, payDebtHistory: [] },\n\t\texportNoteIDList: [],\n\n\t\tcreatedAt: new Date().getTime(),\n\t\tupdatedAt: new Date().getTime(),\n\t\tremovedAt: 0,\n\t})\n\n\tconst customer = await getCustomer(customerRef.id)\n\treturn customer\n}\n\nconst updateCustomer = async (customerID, customerData) => {\n\tconst customerRef = doc(db, 'CUSTOMER', customerID)\n\tawait updateDoc(customerRef, {\n\t\tcustomerName: customerData.customerName,\n\t\tphone: customerData.phone,\n\t\taddress: customerData.address,\n\n\t\tupdatedAt: new Date().getTime(),\n\t})\n\n\tconst customer = await getCustomer(customerRef.id)\n\treturn customer\n}\n\nconst addPayDebt = async (customerID, listNoteDebt, numberPay) => {\n\tawait runTransaction(db, async transaction => {\n\t\tlistNoteDebt.forEach(({ exportNoteID, debt }) => {\n\t\t\ttransaction.update(doc(db, 'EXPORTNOTE', exportNoteID), {\n\t\t\t\t'finance.debt': increment(0 - debt),\n\t\t\t})\n\t\t})\n\t\ttransaction.update(doc(db, 'CUSTOMER', customerID), {\n\t\t\t'finance.debt': increment(0 - numberPay),\n\t\t\t'finance.payDebtHistory': arrayUnion({ time: new Date().getTime(), money: numberPay }),\n\t\t})\n\t})\n}\n\nconst deleteCustomer = async customerID => {\n\tawait deleteDoc(doc(db, 'CUSTOMER', customerID))\n\treturn customerID\n}\n\nexport {\n\tcustomerArray,\n\tstartRealtimeCustomer,\n\tgetCustomer,\n\taddCustomer,\n\tupdateCustomer,\n\taddPayDebt,\n\tdeleteCustomer,\n}\n","import {\n\tgetFirestore,\n\tonSnapshot,\n\tcollection,\n\tdoc,\n\tgetDoc,\n\taddDoc,\n\tupdateDoc,\n\tdeleteDoc,\n\tquery,\n} from 'firebase/firestore'\nimport { reactive, ref } from 'vue'\n\nconst goodsArray = reactive([])\nconst db = getFirestore()\n\nonSnapshot(query(collection(db, 'WAREHOUSE')), snapshot => {\n\tsnapshot.docChanges().forEach(change => {\n\t\tconst newGoods = {\n\t\t\tgoodsID: change.doc.id,\n\t\t\t...change.doc.data(),\n\t\t}\n\t\tconst goodsIndex = goodsArray.findIndex(item => item.goodsID === change.doc.id)\n\t\tif (change.type === 'added') {\n\t\t\tgoodsArray.push(newGoods)\n\t\t} else if (change.type === 'modified') {\n\t\t\tgoodsArray.splice(goodsIndex, 1, newGoods)\n\t\t} else if (change.type === 'removed') {\n\t\t\tgoodsArray.splice(goodsIndex, 1)\n\t\t}\n\t})\n})\n\nconst startRealtimeGoods = goodsID => {\n\tconst data = ref({})\n\tconst unSubscribe = onSnapshot(doc(db, 'WAREHOUSE', goodsID), async goodsDoc => {\n\t\tconst { exportNoteIDList, importNoteIDList, ...goodsData } = goodsDoc.data()\n\n\t\tconst getImportNoteList = importNoteIDList.map(noteID => getDoc(doc(db, 'IMPORTNOTE', noteID)))\n\t\tconst getExportNoteList = exportNoteIDList.map(noteID => getDoc(doc(db, 'EXPORTNOTE', noteID)))\n\n\t\tconst [importNoteSnapList, exportNoteSnapList] = [\n\t\t\tawait Promise.all(getImportNoteList),\n\t\t\tawait Promise.all(getExportNoteList),\n\t\t]\n\t\tconst [importNoteList, exportNoteList] = [{}, {}]\n\n\t\timportNoteSnapList.forEach(noteSnap => {\n\t\t\timportNoteList[noteSnap.id] = noteSnap.data()\n\t\t})\n\t\texportNoteSnapList.forEach(noteSnap => {\n\t\t\texportNoteList[noteSnap.id] = noteSnap.data()\n\t\t})\n\n\t\tdata.value = {\n\t\t\tgoodsID,\n\t\t\t...goodsData,\n\t\t\texportNoteList,\n\t\t\timportNoteList,\n\t\t}\n\t})\n\treturn { data, unSubscribe }\n}\n\nconst addGoods = async newData => {\n\tconst { goodsName, group, unit, costPrice, retailPrice, wholesalePrice } = newData\n\tconst docRef = await addDoc(collection(db, 'WAREHOUSE'), {\n\t\tgoodsName,\n\t\tgroup,\n\t\tunit,\n\t\tcostPrice,\n\t\tretailPrice,\n\t\twholesalePrice,\n\t\tstockAvail: {},\n\t\timportNoteIDList: [],\n\t\texportNoteIDList: [],\n\n\t\tcreatedAt: new Date().getTime(),\n\t\tupdatedAt: new Date().getTime(),\n\t\tremovedAt: 0,\n\t})\n\n\tconst docSnap = await getDoc(docRef)\n\treturn {\n\t\tgoodsID: docSnap.id,\n\t\t...docSnap.data(),\n\t}\n}\n\nconst updateGoods = async (id, data) => {\n\tconst docRef = doc(db, 'WAREHOUSE', id)\n\tawait updateDoc(docRef, {\n\t\t...data,\n\t\tupdatedAt: new Date().getTime(),\n\t})\n\n\tconst docSnap = await getDoc(docRef)\n\treturn {\n\t\tgoodsID: docSnap.id,\n\t\t...docSnap.data(),\n\t}\n}\n\nconst deleteGoods = async goodsID => {\n\tawait deleteDoc(doc(db, 'WAREHOUSE', goodsID))\n\treturn goodsID\n}\n\nexport { goodsArray, startRealtimeGoods, addGoods, updateGoods, deleteGoods }\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}