{"version":3,"sources":["webpack:///./src/components/warehouse/GoodsList.vue?e9fa","webpack:///./src/components/warehouse/Warehouse.vue","webpack:///./src/components/warehouse/Warehouse.vue?091e","webpack:///./src/components/warehouse/GoodsList.vue","webpack:///./src/components/common/ModalCreateGoods.vue","webpack:///./src/components/common/ModalCreateGoods.vue?e6a1","webpack:///./src/components/warehouse/GoodsList.vue?f141","webpack:///./src/firebase/useWarehouse.js","webpack:///./src/utils/constants.js"],"names":["__exports__","render","class","style","colspan","type","openModalCreateGoods","icon","ref","Object","keys","goodsList","length","goods","goodsID","goodsIndex","key","goodsName","stockAvail","stock","expiry","expiryIndex","formatDateTime","Number","quantity","costPrice","retailPrice","wholesalePrice","visible","visibleModal","width","title","confirm-loading","confirmModalLoading","afterClose","refreshModal","handleCreateGoodsOk","model","newGoods","label-col","wrapper-col","label","value","group","UTILS_GROUP","index","addon-after","setup","methods","openModal","this","$emit","components","PlusOutlined","ModalCreateGoods","$refs","modalCreateGoods","str","reactive","db","getFirestore","onSnapshot","query","collection","snapshot","docChanges","forEach","change","doc","id","data","addGoods","newData","addDoc","importNoteIDList","exportNoteIDList","createdAt","Date","getTime","updatedAt","removedAt","docRef","getDoc","docSnap","updateGoods","updateDoc","UTILS_SHIPPING","unit","method","UTILS_PAYMENT"],"mappings":"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","file":"js/warehouse.f1c8fef6.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./GoodsList.vue?vue&type=style&index=0&id=c48bf772&lang=scss&scoped=true\"","<template>\n    <router-view></router-view>\n</template>\n\n<script>\nexport default {}\n</script>\n\n<style></style>\n","import { render } from \"./Warehouse.vue?vue&type=template&id=35b34f3c\"\nimport script from \"./Warehouse.vue?vue&type=script&lang=js\"\nexport * from \"./Warehouse.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Projects\\\\bstrang-vn\\\\bstrang-vn--vuejs\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n\t<div class=\"add-goods\">\n\t\t<a-button type=\"primary\" @click=\"openModalCreateGoods\">\n\t\t\t<template #icon>\n\t\t\t\t<PlusOutlined />\n\t\t\t</template>\n\t\t\tCreate New Goods\n\t\t</a-button>\n\t</div>\n\t<ModalCreateGoods ref=\"modalCreateGoods\" />\n\t<table class=\"table\">\n\t\t<thead>\n\t\t\t<th>#</th>\n\t\t\t<th>Name</th>\n\t\t\t<th>Expiry Date</th>\n\t\t\t<th>Quantity</th>\n\t\t\t<th>Cost Price</th>\n\t\t\t<th>Retail Price</th>\n\t\t\t<th>Wholesale Price</th>\n\t\t</thead>\n\t\t<tbody style=\"text-align: right\">\n\t\t\t<tr v-if=\"Object.keys(goodsList).length === 0\">\n\t\t\t\t<td colspan=\"7\" style=\"text-align:center\">No data available in table</td>\n\t\t\t</tr>\n\t\t\t<tr v-for=\"(goods, goodsID, goodsIndex) in goodsList\" :key=\"goodsIndex\">\n\t\t\t\t<td>{{ goodsIndex + 1 }}</td>\n\t\t\t\t<td style=\"text-align: left\">{{ goods.goodsName }}</td>\n\t\t\t\t<td>\n\t\t\t\t\t<p v-for=\"(stock, expiry, expiryIndex) in goods.stockAvail\" :key=\"expiryIndex\">\n\t\t\t\t\t\t{{ formatDateTime(Number(expiry)) || '-' }}\n\t\t\t\t\t</p>\n\t\t\t\t</td>\n\t\t\t\t<td>\n\t\t\t\t\t<p v-for=\"(stock, expiry, expiryIndex) in goods.stockAvail\" :key=\"expiryIndex\">\n\t\t\t\t\t\t{{ stock.quantity || '-' }}\n\t\t\t\t\t</p>\n\t\t\t\t</td>\n\t\t\t\t<td>\n\t\t\t\t\t<p v-for=\"(stock, expiry, expiryIndex) in goods.stockAvail\" :key=\"expiryIndex\">\n\t\t\t\t\t\t{{ stock.costPrice || '-' }}\n\t\t\t\t\t</p>\n\t\t\t\t</td>\n\t\t\t\t<td>{{ goods.retailPrice }}</td>\n\t\t\t\t<td>{{ goods.wholesalePrice }}</td>\n\t\t\t</tr>\n\t\t</tbody>\n\t</table>\n</template>\n\n<script>\nimport { PlusOutlined } from '@ant-design/icons-vue'\nimport { goodsList } from '@/firebase/useWarehouse'\nimport ModalCreateGoods from '@/components/common/ModalCreateGoods.vue'\nimport { MyFormatDateTime } from '@/utils/convert'\n\nexport default {\n\tcomponents: { PlusOutlined, ModalCreateGoods },\n\tsetup() {\n\t\treturn { goodsList }\n\t},\n\tmethods: {\n\t\topenModalCreateGoods() {\n\t\t\tthis.$refs.modalCreateGoods.openModal()\n\t\t},\n\t\tformatDateTime(str) {\n\t\t\treturn MyFormatDateTime(str, 'DD/MM/YY')\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.table {\n\tp {\n\t\tmargin: 0;\n\t}\n}\n.add-goods {\n\tmargin-bottom: 0.5rem;\n\tdisplay: flex;\n\tjustify-content: flex-end;\n}\n</style>\n","<template>\n\t<a-modal\n\t\tv-model:visible=\"visibleModal\"\n\t\twidth=\"900px\"\n\t\ttitle=\"Create New Goods\"\n\t\t:confirm-loading=\"confirmModalLoading\"\n\t\t:afterClose=\"refreshModal\"\n\t\t@ok=\"handleCreateGoodsOk\"\n\t>\n\t\t<a-form :model=\"newGoods\" :label-col=\"{ span: 4 }\" :wrapper-col=\"{ span: 20 }\">\n\t\t\t<a-form-item label=\"Name\">\n\t\t\t\t<a-input v-model:value=\"newGoods.goodsName\"></a-input>\n\t\t\t</a-form-item>\n\t\t\t<a-form-item label=\"Group\">\n\t\t\t\t<a-select ref=\"select\" v-model:value=\"newGoods.group\">\n\t\t\t\t\t<a-select-option v-for=\"(group, index) in UTILS_GROUP\" :key=\"index\" :value=\"group\">\n\t\t\t\t\t\t{{ group }}\n\t\t\t\t\t</a-select-option>\n\t\t\t\t</a-select>\n\t\t\t</a-form-item>\n\t\t\t<a-form-item label=\"Retail Price\">\n\t\t\t\t<a-input v-model:value.number=\"newGoods.retailPrice\" addon-after=\".000 vnđ\" type=\"number\"></a-input>\n\t\t\t</a-form-item>\n\t\t\t<a-form-item label=\"Wholesale Price\">\n\t\t\t\t<a-input v-model:value.number=\"newGoods.wholesalePrice\" addon-after=\".000 vnđ\" type=\"number\"></a-input>\n\t\t\t</a-form-item>\n\t\t</a-form>\n\t</a-modal>\n</template>\n\n<script>\nimport { ref, reactive } from 'vue'\nimport { addGoods } from '@/firebase/useWarehouse'\nimport { UTILS_GROUP } from '@/utils/constants'\n\nexport default {\n\tsetup() {\n\t\treturn {\n\t\t\tvisibleModal: ref(false),\n\t\t\tconfirmModalLoading: ref(false),\n\t\t\tnewGoods: reactive({ goodsName: '', group: '', retailPrice: '', wholesalePrice: '' }),\n\t\t\tUTILS_GROUP,\n\t\t}\n\t},\n\tmethods: {\n\t\topenModal() {\n\t\t\tthis.visibleModal = true\n\t\t},\n\t\trefreshModal() {\n\t\t\tthis.newGoods.goodsName = ''\n\t\t\tthis.newGoods.group = ''\n\t\t\tthis.newGoods.retailPrice = ''\n\t\t\tthis.newGoods.wholesalePrice = ''\n\n\t\t\tthis.confirmModalLoading = false\n\t\t},\n\t\tasync handleCreateGoodsOk() {\n\t\t\tthis.confirmModalLoading = true\n\t\t\tconst newGoods = await addGoods({\n\t\t\t\tgoodsName: this.newGoods.goodsName,\n\t\t\t\tgroup: this.newGoods.group,\n\t\t\t\tretailPrice: this.newGoods.retailPrice,\n\t\t\t\twholesalePrice: this.newGoods.wholesalePrice,\n\t\t\t})\n\t\t\tthis.$emit('newGoodsCreated', newGoods)\n\t\t\tthis.visibleModal = false\n\t\t},\n\t},\n}\n</script>\n\n<style></style>\n","import { render } from \"./ModalCreateGoods.vue?vue&type=template&id=1ba03fd6\"\nimport script from \"./ModalCreateGoods.vue?vue&type=script&lang=js\"\nexport * from \"./ModalCreateGoods.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Projects\\\\bstrang-vn\\\\bstrang-vn--vuejs\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./GoodsList.vue?vue&type=template&id=c48bf772&scoped=true\"\nimport script from \"./GoodsList.vue?vue&type=script&lang=js\"\nexport * from \"./GoodsList.vue?vue&type=script&lang=js\"\n\nimport \"./GoodsList.vue?vue&type=style&index=0&id=c48bf772&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\Projects\\\\bstrang-vn\\\\bstrang-vn--vuejs\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c48bf772\"]])\n\nexport default __exports__","import { getFirestore, collection, doc, getDoc, addDoc, updateDoc, query, onSnapshot } from 'firebase/firestore'\nimport { reactive } from 'vue'\n\nconst goodsList = reactive({})\nconst db = getFirestore()\n\nonSnapshot(query(collection(db, 'WAREHOUSE')), snapshot => {\n\tsnapshot.docChanges().forEach(change => {\n\t\tif (change.type === 'added' || change.type === 'modified') {\n\t\t\tgoodsList[change.doc.id] = change.doc.data()\n\t\t} else if (change.type === 'removed') {\n\t\t\tdelete goodsList[change.doc.id]\n\t\t}\n\t})\n})\n\nconst addGoods = async newData => {\n\tconst { goodsName, group, retailPrice, wholesalePrice } = newData\n\tconst docRef = await addDoc(collection(db, 'WAREHOUSE'), {\n\t\tgoodsName,\n\t\tgroup,\n\t\tretailPrice,\n\t\twholesalePrice,\n\t\tstockAvail: {},\n\t\timportNoteIDList: [],\n\t\texportNoteIDList: [],\n\t\tcreatedAt: new Date().getTime(),\n\t\tupdatedAt: new Date().getTime(),\n\t\tremovedAt: 0,\n\t})\n\n\tconst docSnap = await getDoc(docRef)\n\treturn {\n\t\tgoodsID: docSnap.id,\n\t\t...docSnap.data(),\n\t}\n}\n\nconst updateGoods = async (id, { retailPrice, wholesalePrice }) => {\n\tconst docRef = doc(db, 'WAREHOUSE', id)\n\tawait updateDoc(docRef, {\n\t\tretailPrice,\n\t\twholesalePrice,\n\t\tupdatedAt: new Date().getTime(),\n\t})\n\n\tconst docSnap = await getDoc(docRef)\n\treturn {\n\t\tgoodsID: docSnap.id,\n\t\t...docSnap.data(),\n\t}\n}\n\nexport { goodsList, addGoods, updateGoods }\n","const UTILS_GROUP = [\n\t'Kem Chống Nắng',\n\t'Tẩy Trang',\n\t'Sữa Rửa Mặt',\n\t'Tẩy Da Chết',\n\t'Tonner',\n\t'Serum',\n\t'Đặc Trị',\n\t'Kem Dưỡng',\n\t'Sữa Tắm',\n\t'Thuốc Viên',\n\t'Khác',\n]\n\nconst UTILS_SHIPPING = {\n\tunit: ['Viettel Post', 'Shoppee', 'Giao Hàng Tiết Kiệm', 'Ship Thường'],\n\tmethod: ['Bank Transfer', 'COD'],\n}\n\nconst UTILS_PAYMENT = {\n\tmethod: ['Bank Transfer', 'COD'],\n}\n\nexport { UTILS_GROUP, UTILS_SHIPPING, UTILS_PAYMENT }\n"],"sourceRoot":""}