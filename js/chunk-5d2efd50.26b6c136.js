(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d2efd50"],{"04d1":function(e,t,r){var n=r("342f"),c=n.match(/firefox\/(\d+)/i);e.exports=!!c&&+c[1]},"222b":function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"f",(function(){return l})),r.d(t,"e",(function(){return d})),r.d(t,"a",(function(){return m})),r.d(t,"g",(function(){return b})),r.d(t,"b",(function(){return f})),r.d(t,"d",(function(){return p}));var n=r("1da1"),c=r("5530"),a=(r("96cf"),r("159b"),r("c740"),r("a434"),r("e71f")),u=r("7a23"),o=Object(u["M"])([]),s=Object(a["j"])(),i=Object(a["n"])(Object(a["d"])(s,"CUSTOMER"));Object(a["l"])(i,(function(e){e.docChanges().forEach((function(e){var t=Object(c["a"])({customerID:e.doc.id},e.doc.data()),r=o.findIndex((function(t){return t.customerID===e.doc.id}));"added"===e.type?o.push(t):"modified"===e.type?o.splice(r,1,t):"removed"===e.type&&o.splice(r,1)}))}));var l=function(e){var t=Object(u["N"])({}),r=Object(a["l"])(Object(a["g"])(s,"CUSTOMER",e),function(){var r=Object(n["a"])(regeneratorRuntime.mark((function r(n){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(n.exists()){r.next=2;break}return r.abrupt("return");case 2:t.value=Object(c["a"])({customerID:e},n.data());case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}());return{data:t,unSubscribe:r}},d=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n,c,u,o,i,l,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Object(a["g"])(s,"CUSTOMER",t),e.next=3,Object(a["h"])(r);case 3:if(n=e.sent,n.exists()){e.next=6;break}return e.abrupt("return",{});case 6:return c=n.data(),u=c.customerName,o=c.phone,i=c.address,l=c.finance,d=c.exportNoteIDList,e.abrupt("return",{customerID:t,customerName:u,phone:o,address:i,finance:l,exportNoteIDList:d});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])(Object(a["d"])(s,"CUSTOMER"),{customerName:t.customerName,phone:t.phone,address:t.address,finance:{debt:0,payDebtHistory:[]},exportNoteIDList:[],createdAt:(new Date).getTime(),updatedAt:(new Date).getTime(),removedAt:0});case 2:return r=e.sent,e.next=5,d(r.id);case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var n,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Object(a["g"])(s,"CUSTOMER",t),e.next=3,Object(a["q"])(n,{customerName:r.customerName,phone:r.phone,address:r.address,updatedAt:(new Date).getTime()});case 3:return e.next=5,d(n.id);case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),f=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r,c){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["o"])(s,function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r.forEach((function(e){var t=e.exportNoteID,r=e.debt;n.update(Object(a["g"])(s,"EXPORTNOTE",t),{"finance.debt":Object(a["k"])(0-r)})})),n.update(Object(a["g"])(s,"CUSTOMER",t),{"finance.debt":Object(a["k"])(0-c),"finance.payDebtHistory":Object(a["c"])({time:(new Date).getTime(),money:c})});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),p=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["e"])(Object(a["g"])(s,"CUSTOMER",t));case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},"3ad4":function(e,t,r){},"4e82":function(e,t,r){"use strict";var n=r("23e7"),c=r("59ed"),a=r("7b0b"),u=r("07fa"),o=r("577e"),s=r("d039"),i=r("addb"),l=r("a640"),d=r("04d1"),m=r("d998"),b=r("2d00"),f=r("512c"),p=[],h=p.sort,O=s((function(){p.sort(void 0)})),j=s((function(){p.sort(null)})),v=l("sort"),x=!s((function(){if(b)return b<70;if(!(d&&d>3)){if(m)return!0;if(f)return f<603;var e,t,r,n,c="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)p.push({k:t+n,v:r})}for(p.sort((function(e,t){return t.v-e.v})),n=0;n<p.length;n++)t=p[n].k.charAt(0),c.charAt(c.length-1)!==t&&(c+=t);return"DGBEFHACIJK"!==c}})),g=O||!j||!v||!x,w=function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:o(t)>o(r)?1:-1}};n({target:"Array",proto:!0,forced:g},{sort:function(e){void 0!==e&&c(e);var t=a(this);if(x)return void 0===e?h.call(t):h.call(t,e);var r,n,o=[],s=u(t);for(n=0;n<s;n++)n in t&&o.push(t[n]);o=i(o,w(e)),r=o.length,n=0;while(n<r)t[n]=o[n++];while(n<s)delete t[n++];return t}})},"512c":function(e,t,r){var n=r("342f"),c=n.match(/AppleWebKit\/(\d+)\./);e.exports=!!c&&+c[1]},addb:function(e,t){var r=Math.floor,n=function(e,t){var u=e.length,o=r(u/2);return u<8?c(e,t):a(n(e.slice(0,o),t),n(e.slice(o),t),t)},c=function(e,t){var r,n,c=e.length,a=1;while(a<c){n=a,r=e[a];while(n&&t(e[n-1],r)>0)e[n]=e[--n];n!==a++&&(e[n]=r)}return e},a=function(e,t,r){var n=e.length,c=t.length,a=0,u=0,o=[];while(a<n||u<c)a<n&&u<c?o.push(r(e[a],t[u])<=0?e[a++]:t[u++]):o.push(a<n?e[a++]:t[u++]);return o};e.exports=n},b7d5:function(e,t,r){"use strict";r("3ad4")},b921:function(e,t,r){"use strict";var n=r("7a23"),c={class:"flex items-center mb-2"},a=Object(n["m"])("div",{class:"w-20 flex-none"},"Name",-1),u={class:"flex items-center mb-2"},o=Object(n["m"])("div",{class:"w-20 flex-none"},"Phone",-1),s={class:"flex items-center mb-2"},i=Object(n["m"])("div",{class:"w-20 flex-none"},"Address",-1);function l(e,t,r,l,d,m){var b=Object(n["R"])("a-input"),f=Object(n["R"])("a-modal");return Object(n["I"])(),Object(n["j"])(f,{visible:l.visibleModal,"onUpdate:visible":t[3]||(t[3]=function(e){return l.visibleModal=e}),width:"900px",title:l.customer.customerID?"Update Customer":"Create New Customer","confirm-loading":l.confirmModalLoading,afterClose:m.refreshModal,onOk:m.handleModalCustomerOk},{default:Object(n["cb"])((function(){return[Object(n["m"])("form",null,[Object(n["m"])("div",c,[a,Object(n["o"])(b,{value:l.customer.customerName,"onUpdate:value":t[0]||(t[0]=function(e){return l.customer.customerName=e}),class:"flex-auto"},null,8,["value"])]),Object(n["m"])("div",u,[o,Object(n["o"])(b,{value:l.customer.phone,"onUpdate:value":t[1]||(t[1]=function(e){return l.customer.phone=e}),class:"flex-auto"},null,8,["value"])]),Object(n["m"])("div",s,[i,Object(n["o"])(b,{value:l.customer.address,"onUpdate:value":t[2]||(t[2]=function(e){return l.customer.address=e}),class:"flex-auto"},null,8,["value"])])])]})),_:1},8,["visible","title","confirm-loading","afterClose","onOk"])}var d=r("1da1"),m=(r("96cf"),r("222b")),b={setup:function(){return{visibleModal:Object(n["N"])(!1),confirmModalLoading:Object(n["N"])(!1),customer:Object(n["N"])({customerID:"",customerName:"",phone:"",address:""})}},methods:{openModal:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t.visibleModal=!0,!e){r.next=9;break}return r.next=4,Object(m["e"])(e);case 4:n=r.sent,t.customer.customerID=n.customerID,t.customer.customerName=n.customerName,t.customer.phone=n.phone,t.customer.address=n.address;case 9:case"end":return r.stop()}}),r)})))()},refreshModal:function(){this.customer.customerID="",this.customer.customerName="",this.customer.phone="",this.customer.address="",this.confirmModalLoading=!1},handleModalCustomerOk:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var r,n,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.confirmModalLoading=!0,r={customerName:e.customer.customerName,phone:e.customer.phone,address:e.customer.address},t.prev=2,e.customer.customerID){t.next=10;break}return t.next=6,Object(m["a"])(r);case 6:n=t.sent,e.$emit("actionCustomer",n),t.next=14;break;case 10:return t.next=12,Object(m["g"])(e.customer.customerID,r);case 12:c=t.sent,e.$emit("actionCustomer",c);case 14:e.visibleModal=!1,t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](2),console.log(t.t0);case 20:case"end":return t.stop()}}),t,null,[[2,17]])})))()}}},f=r("6b0d"),p=r.n(f);const h=p()(b,[["render",l]]);t["a"]=h},d998:function(e,t,r){var n=r("342f");e.exports=/MSIE|Trident/.test(n)},f31f:function(e,t,r){"use strict";r.r(t);var n=r("7a23"),c=function(e){return Object(n["L"])("data-v-2529f656"),e=e(),Object(n["J"])(),e},a=c((function(){return Object(n["m"])("h1",{class:"title-content"},"Danh sách khách hàng",-1)})),u={class:"flex justify-between mb-2"},o={class:"input-text"},s=["value"],i=Object(n["n"])(" Tạo khách hàng mới "),l={class:"table"},d=c((function(){return Object(n["m"])("thead",null,[Object(n["m"])("th",null,"#"),Object(n["m"])("th",null,"Tên"),Object(n["m"])("th",null,"SĐT"),Object(n["m"])("th",null,"Địa chỉ"),Object(n["m"])("th",null,"Nợ")],-1)})),m={key:0},b=c((function(){return Object(n["m"])("td",{colspan:"5",class:"text-center"},"No data available in table",-1)})),f=[b],p=["onDblclick"],h={class:"text-center"},O={class:"mt-4"},j=Object(n["n"])("Back");function v(e,t,r,c,b,v){var x=Object(n["R"])("PlusOutlined"),g=Object(n["R"])("a-button"),w=Object(n["R"])("ModalCreateModifyCustomer");return Object(n["I"])(),Object(n["l"])(n["b"],null,[a,Object(n["m"])("div",u,[Object(n["m"])("div",o,[Object(n["m"])("input",{value:c.searchText,onInput:t[0]||(t[0]=function(){return v.handleSearchText&&v.handleSearchText.apply(v,arguments)}),type:"text",placeholder:"Search..."},null,40,s)]),Object(n["o"])(g,{type:"primary",onClick:t[1]||(t[1]=function(t){return e.$refs.modalCreateModifyCustomer.openModal()})},{icon:Object(n["cb"])((function(){return[Object(n["o"])(x)]})),default:Object(n["cb"])((function(){return[i]})),_:1})]),Object(n["o"])(w,{ref:"modalCreateModifyCustomer"},null,512),Object(n["m"])("table",l,[d,Object(n["m"])("tbody",null,[0===v.customerFilter.length?(Object(n["I"])(),Object(n["l"])("tr",m,f)):Object(n["k"])("",!0),(Object(n["I"])(!0),Object(n["l"])(n["b"],null,Object(n["P"])(v.customerFilter,(function(t,r){var c,a;return Object(n["I"])(),Object(n["l"])("tr",{key:r,onDblclick:function(r){return e.$router.push({name:"Customer Details",params:{id:t.customerID}})}},[Object(n["m"])("td",h,Object(n["V"])(r+1),1),Object(n["m"])("td",null,Object(n["V"])(t.customerName),1),Object(n["m"])("td",null,Object(n["V"])(t.phone),1),Object(n["m"])("td",null,Object(n["V"])(t.address),1),Object(n["m"])("td",{style:Object(n["z"])(null!==(c=t.finance)&&void 0!==c&&c.debt?"color: red":""),class:"text-right"},Object(n["V"])(null===(a=t.finance)||void 0===a?void 0:a.debt),5)],40,p)})),128))])]),Object(n["m"])("div",O,[Object(n["o"])(g,{onClick:t[2]||(t[2]=function(t){return e.$router.push({name:"Dashboard",params:{}})})},{default:Object(n["cb"])((function(){return[j]})),_:1})])],64)}r("4e82"),r("4de4");var x=r("47ce"),g=r("222b"),w=r("b921"),k=r("bcc2"),N={components:{ModalCreateModifyCustomer:w["a"],PlusOutlined:x["a"]},setup:function(){return{customerArray:g["c"],searchText:Object(n["N"])("")}},computed:{customerFilter:function(){var e=this;return this.customerArray.filter((function(t){return Object(k["c"])(t.customerName,e.searchText)})).sort((function(e,t){return e.customerName>t.customerName?1:e.customerName<t.customerName?-1:0}))}},methods:{handleSearchText:function(e){this.searchText=e.target.value}}},y=(r("b7d5"),r("6b0d")),C=r.n(y);const M=C()(N,[["render",v],["__scopeId","data-v-2529f656"]]);t["default"]=M}}]);
//# sourceMappingURL=chunk-5d2efd50.26b6c136.js.map