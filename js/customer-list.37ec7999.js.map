{"version":3,"sources":["webpack:///./src/firebase/useCustomer.js","webpack:///./src/components/customer/CustomerList.vue?a1fb","webpack:///./src/components/common/ModalCreateCustomer.vue","webpack:///./src/components/common/ModalCreateCustomer.vue?ced7","webpack:///./src/components/customer/CustomerList.vue","webpack:///./src/components/customer/CustomerList.vue?9100"],"names":["customerList","reactive","db","getFirestore","qr","query","collection","onSnapshot","snapshot","docChanges","forEach","change","type","doc","id","data","addCustomer","addDoc","customerName","phone","address","debt","createdAt","Date","getTime","updatedAt","removedAt","docRef","getDoc","docSnap","customerID","visible","visibleModal","width","title","confirm-loading","confirmModalLoading","afterClose","refreshModal","handleCreateCustomerOk","model","newCustomer","label-col","wrapper-col","label","value","setup","methods","openModal","this","$emit","__exports__","render","class","colspan","style","openModalCreateCustomer","icon","ref","Object","keys","length","customer","index","key","ok-text","cancel-text","placeholder","components","ModalCreateCustomer","PlusOutlined","$refs","modalCreateCustomer"],"mappings":"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","file":"js/customer-list.37ec7999.js","sourcesContent":["import { getFirestore, collection, getDoc, addDoc, query, onSnapshot } from 'firebase/firestore'\nimport { reactive } from 'vue'\n\nconst customerList = reactive({})\nconst db = getFirestore()\nconst qr = query(collection(db, 'CUSTOMER'))\n\nonSnapshot(qr, snapshot => {\n\tsnapshot.docChanges().forEach(change => {\n\t\tif (change.type === 'added' || change.type === 'modified') {\n\t\t\tcustomerList[change.doc.id] = change.doc.data()\n\t\t} else if (change.type === 'removed') {\n\t\t\tdelete customerList[change.doc.id]\n\t\t}\n\t})\n})\n\nconst addCustomer = async data => {\n\tconst docRef = await addDoc(collection(db, 'CUSTOMER'), {\n\t\tcustomerName: data.customerName,\n\t\tphone: data.phone,\n\t\taddress: data.address,\n\t\tdebt: data.debt || 0,\n\t\tcreatedAt: new Date().getTime(),\n\t\tupdatedAt: new Date().getTime(),\n\t\tremovedAt: 0,\n\t})\n\n\tconst docSnap = await getDoc(docRef)\n\tconst customerID = docSnap.id\n\tconst { customerName, phone, address, debt } = docSnap.data()\n\treturn {\n\t\tcustomerID,\n\t\tcustomerName,\n\t\tphone,\n\t\taddress,\n\t\tdebt,\n\t}\n}\n\nexport { customerList, addCustomer }\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CustomerList.vue?vue&type=style&index=0&id=04d8371b&lang=scss&scoped=true\"","<template>\n    <a-modal\n        v-model:visible=\"visibleModal\"\n        width=\"900px\"\n        title=\"Create New Customer\"\n        :confirm-loading=\"confirmModalLoading\"\n        :afterClose=\"refreshModal\"\n        @ok=\"handleCreateCustomerOk\"\n    >\n        <a-form :model=\"newCustomer\" :label-col=\"{ span: 4 }\" :wrapper-col=\"{ span: 20 }\">\n            <a-form-item label=\"Name\">\n                <a-input v-model:value=\"newCustomer.customerName\"></a-input>\n            </a-form-item>\n            <a-form-item label=\"Phone\">\n                <a-input v-model:value=\"newCustomer.phone\"></a-input>\n            </a-form-item>\n            <a-form-item label=\"Address\">\n                <a-input v-model:value=\"newCustomer.address\"></a-input>\n            </a-form-item>\n        </a-form>\n    </a-modal>\n</template>\n\n<script>\nimport { ref, reactive } from 'vue'\nimport { addCustomer } from '@/firebase/useCustomer'\n\nexport default {\n    setup() {\n        return {\n            visibleModal: ref(false),\n            confirmModalLoading: ref(false),\n            newCustomer: reactive({ customerName: '', phone: '', address: '' }),\n        }\n    },\n    methods: {\n        openModal() {\n            this.visibleModal = true\n        },\n        refreshModal() {\n            this.newCustomer.customerName = ''\n            this.newCustomer.phone = ''\n            this.newCustomer.address = ''\n            this.confirmModalLoading = false\n        },\n        async handleCreateCustomerOk() {\n            this.confirmModalLoading = true\n            const newCustomer = await addCustomer({\n                customerName: this.newCustomer.customerName,\n                phone: this.newCustomer.phone,\n                address: this.newCustomer.address,\n            })\n            this.$emit('newCustomerCreated', newCustomer)\n            this.visibleModal = false\n        },\n    },\n}\n</script>\n\n<style></style>\n","import { render } from \"./ModalCreateCustomer.vue?vue&type=template&id=5e22407a\"\nimport script from \"./ModalCreateCustomer.vue?vue&type=script&lang=js\"\nexport * from \"./ModalCreateCustomer.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Projects\\\\bstrang-vn\\\\bstrang-vn--vuejs\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n\t<div class=\"add-customer\">\n\t\t<a-button type=\"primary\" @click=\"openModalCreateCustomer\">\n\t\t\t<template #icon>\n\t\t\t\t<PlusOutlined />\n\t\t\t</template>\n\t\t\tAdd Customer\n\t\t</a-button>\n\t</div>\n\t<ModalCreateCustomer ref=\"modalCreateCustomer\" />\n\t<table class=\"table\">\n\t\t<thead>\n\t\t\t<th>#</th>\n\t\t\t<th>Name</th>\n\t\t\t<th>Phone</th>\n\t\t\t<th>Adress</th>\n\t\t\t<th>Debt</th>\n\t\t</thead>\n\t\t<tbody>\n\t\t\t<tr v-if=\"Object.keys(customerList).length === 0\">\n\t\t\t\t<td colspan=\"5\" style=\"text-align:center\">No data available in table</td>\n\t\t\t</tr>\n\t\t\t<tr v-for=\"(customer, customerID, index) in customerList\" :key=\"index\">\n\t\t\t\t<td>{{ index + 1 }}</td>\n\t\t\t\t<td>{{ customer.customerName }}</td>\n\t\t\t\t<td>{{ customer.phone }}</td>\n\t\t\t\t<td>{{ customer.address }}</td>\n\t\t\t\t<td style=\"display:flex; justify-content: space-between\">\n\t\t\t\t\t<a-popconfirm ok-text=\"Yes\" cancel-text=\"No\">\n\t\t\t\t\t\t<template #title>\n\t\t\t\t\t\t\t<p>How much to pay ?</p>\n\t\t\t\t\t\t\t<a-input placeholder=\"Basic usage\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<a-button>Payup</a-button>\n\t\t\t\t\t</a-popconfirm>\n\t\t\t\t\t{{ customer.debt }}\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</tbody>\n\t</table>\n</template>\n\n<script>\nimport { PlusOutlined } from '@ant-design/icons-vue'\nimport { customerList } from '@/firebase/useCustomer'\nimport ModalCreateCustomer from '@/components/common/ModalCreateCustomer.vue'\n\nexport default {\n\tcomponents: { ModalCreateCustomer, PlusOutlined },\n\tsetup() {\n\t\treturn { customerList }\n\t},\n\tmethods: {\n\t\topenModalCreateCustomer() {\n\t\t\tthis.$refs.modalCreateCustomer.openModal()\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.add-customer {\n\tmargin-bottom: 1rem;\n\tdisplay: flex;\n\tjustify-content: flex-end;\n}\n</style>\n","import { render } from \"./CustomerList.vue?vue&type=template&id=04d8371b&scoped=true\"\nimport script from \"./CustomerList.vue?vue&type=script&lang=js\"\nexport * from \"./CustomerList.vue?vue&type=script&lang=js\"\n\nimport \"./CustomerList.vue?vue&type=style&index=0&id=04d8371b&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\Projects\\\\bstrang-vn\\\\bstrang-vn--vuejs\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-04d8371b\"]])\n\nexport default __exports__"],"sourceRoot":""}