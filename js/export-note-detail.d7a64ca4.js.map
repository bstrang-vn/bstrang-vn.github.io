{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","webpack:///./src/components/export-note/export-note-detail/ExportNoteDetail.vue","webpack:///./src/components/export-note/export-note-detail/ExportNoteDetail.vue?bf23","webpack:///./src/components/export-note/export-note-detail/ExportNoteDetail.vue?08da","webpack:///./src/firebase/useExportNote.js","webpack:///./src/utils/constants.js","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["_objectWithoutPropertiesLoose","source","excluded","key","i","target","sourceKeys","Object","keys","length","indexOf","_objectWithoutProperties","objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","class","style","colspan","type","flex","exportNote","stockOut","goodsID","stockIndex","goodsName","expiryList","expiryDate","expiryIndex","quantity","actualPrice","expectedPrice","rowspan","formatDateTime","Number","shipping","cost","totalMoney","payment","alreadyPaid","setup","route","params","id","then","res","value","UTILS_SHIPPING","UTILS_PAYMENT","methods","time","__exports__","render","nowTime","Date","getTime","exportNoteList","reactive","db","getFirestore","qr","query","collection","where","orderBy","limit","onSnapshot","snapshot","docChanges","forEach","change","doc","data","addExportNote","noteData","exportNoteRef","runTransaction","transaction","queryGoodsRefList","map","get","Promise","all","goodsDocList","goodsDoc","stockAvail","entries","Error","update","exportNoteIDList","arrayUnion","set","customerID","createdAt","updatedAt","removedAt","getExportNoteByID","noteID","noteRef","getDoc","noteSnap","exists","getCustomerSnap","getGoodsSnapList","customerSnap","goodsSnapList","customer","customerName","goods","UTILS_GROUP","unit","method","$","$map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","proto","forced","callbackfn","this","arguments","undefined"],"mappings":"4KAAe,SAASA,EAA8BC,EAAQC,GAC5D,GAAc,MAAVD,EAAgB,MAAO,GAC3B,IAEIE,EAAKC,EAFLC,EAAS,GACTC,EAAaC,OAAOC,KAAKP,GAG7B,IAAKG,EAAI,EAAGA,EAAIE,EAAWG,OAAQL,IACjCD,EAAMG,EAAWF,GACbF,EAASQ,QAAQP,IAAQ,IAC7BE,EAAOF,GAAOF,EAAOE,IAGvB,OAAOE,ECXM,SAASM,EAAyBV,EAAQC,GACvD,GAAc,MAAVD,EAAgB,MAAO,GAC3B,IACIE,EAAKC,EADLC,EAASO,EAA6BX,EAAQC,GAGlD,GAAIK,OAAOM,sBAAuB,CAChC,IAAIC,EAAmBP,OAAOM,sBAAsBZ,GAEpD,IAAKG,EAAI,EAAGA,EAAIU,EAAiBL,OAAQL,IACvCD,EAAMW,EAAiBV,GACnBF,EAASQ,QAAQP,IAAQ,GACxBI,OAAOQ,UAAUC,qBAAqBC,KAAKhB,EAAQE,KACxDE,EAAOF,GAAOF,EAAOE,IAIzB,OAAOE,I,+MCfa,mB,GAGhBa,MAAM,U,iBAEC,Y,iBACA,gB,GAILA,MAAM,S,uBACZ,eAQQ,cAPP,eAAU,UAAN,KACJ,eAAmB,UAAf,cACJ,eAAoB,UAAhB,eACJ,eAAiB,UAAb,YACJ,eAAe,UAAX,UACJ,eAAiB,UAAb,YACJ,eAAoB,UAAhB,iB,SAEEC,MAAA,wB,mDAuBL,eAAkC,MAA9BC,QAAQ,KAAI,iBAAa,M,GAG1BD,MAAA,wB,uBACH,eAA+B,MAA3BC,QAAQ,KAAI,cAAU,M,uBAI1B,eAAiC,MAA7BA,QAAQ,KAAI,gBAAY,M,uBAI5B,eAEK,MAFDA,QAAQ,KAAI,aAEhB,M,mMA1DH,eAGQ,GAHDC,KAAK,QAAM,C,yBACjB,iBAA2C,CAA3C,eAA2C,GAApCC,KAAK,SAAO,C,yBAAC,iBAAe,C,YACnC,eAA2B,GAApBA,KAAK,a,MAEb,eAKM,MALN,EAKM,CAJL,eAGU,Q,yBAFT,iBAA6B,CAA7B,eAA6B,Q,yBAAnB,iBAAQ,C,YAClB,eAAiC,Q,yBAAvB,iBAAY,C,wBAIxB,eAqDQ,QArDR,EAqDQ,CApDP,EASA,eA0CQ,QA1CR,EA0CQ,E,mBAzCP,eAoBW,2BAnBoD,EAAAC,WAAWC,UAAQ,WAA3CC,EAASC,GAAU,IAA/CC,EAA+C,EAA/CA,UAAcC,EAAiC,oB,mDACnDF,GAAU,E,mBAEhB,eAeK,2BAd0EE,GAAU,WAAtCC,EAAYC,GAAW,IAA/DC,EAA+D,EAA/DA,SAAUC,EAAqD,EAArDA,YAAaC,EAAwC,EAAxCA,c,wBADlC,eAeK,MAbH9B,IAAK2B,GAAW,CAEoC,IAAhBA,G,iBAArC,eAEK,M,MAFDX,MAAA,wBAAqDe,QAAS3B,OAAOC,KAAKoB,GAAYnB,Q,eACtFiB,EAAa,GAAH,M,sBAEqC,IAAhBI,G,iBAAnC,eAEK,M,MAFDX,MAAA,sBAAmDe,QAAS3B,OAAOC,KAAKoB,GAAYnB,Q,eACpFkB,GAAS,M,sBAEb,eAAiD,yBAA1C,EAAAQ,eAAeC,OAAOP,KAAU,GACvC,eAAuB,yBAAhBE,GAAQ,GACf,eAA0B,yBAAnBC,GAAW,GAClB,eAA4B,yBAArBC,GAAa,GACpB,eAAqC,yBAA9BF,EAAWC,GAAW,Q,oBAG/B,eAGK,WAFJ,EACA,eAAwC,mCAAjC,EAAAT,WAAWc,gBAAsB,aAAjC,EAAqBC,MAAI,KAEjC,eAGK,KAHL,EAGK,CAFJ,EACA,eAAoC,yBAA7B,EAAAf,WAAWgB,YAAU,KAE7B,eAGK,WAFJ,EACA,eAA8C,mCAAvC,EAAAhB,WAAWiB,eAA4B,aAAvC,EAAoBC,aAAW,KAEvC,eAOK,WANJ,EAGA,eAEK,yBADD,EAAAlB,WAAWgB,YAAX,UAAwB,EAAAhB,WAAWiB,eAAnC,aAAwB,EAAoBC,cAAW,U,wDAchD,GACdC,MADc,WAEb,IAAMC,EAAQ,iBACRpB,EAAa,eAAI,IAIvB,OAHA,eAAkBoB,EAAMC,OAAOC,IAAIC,MAAK,SAAAC,GACvCxB,EAAWyB,MAAQD,KAEb,CAAExB,aAAY0B,eAAA,OAAgBC,cAAA,SAEtCC,QAAS,CACRhB,eADQ,SACOiB,GACd,OAAO,eAAiBA,EAAM,e,iCC/EjC,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB,kCCTf,W,6XCeMC,GAAU,IAAIC,MAAOC,UACrBC,EAAiBC,eAAS,IAC1BC,EAAKC,iBACLC,EAAKC,eACVC,eAAWJ,EAAI,cACfK,eAAM,YAAa,IAAKV,EAAU,QAClCW,eAAQ,YAAa,OACrBC,eAAM,KAGPC,eAAWN,GAAI,SAAAO,GACdA,EAASC,aAAaC,SAAQ,SAAAC,GACT,UAAhBA,EAAOnD,MAAoC,aAAhBmD,EAAOnD,OACrCqC,EAAec,EAAOC,IAAI5B,IAAM2B,EAAOC,IAAIC,QAExB,YAAhBF,EAAOnD,aACHqC,EAAec,EAAOC,IAAI5B,UAKpC,IAAM8B,EAAa,yDAAG,WAAMC,GAAN,8FACfC,EAAgBJ,eAAIT,eAAWJ,EAAI,eADpB,SAGfkB,eAAelB,EAAD,yDAAK,WAAMmB,GAAN,gGAClBC,EAAoBzE,OAAOC,KAAKoE,EAASpD,UAAUyD,KAAI,SAAAxD,GAAO,OACnEsD,EAAYG,IAAIT,eAAIb,EAAI,YAAanC,OAFd,SAIG0D,QAAQC,IAAIJ,GAJf,OAIlBK,EAJkB,OAKxBA,EAAad,SAAQ,SAAAe,GACpB,MAAkCA,EAASZ,QAAU,GAA7Ca,EAAR,EAAQA,WAAY5D,EAApB,EAAoBA,UACpBpB,OAAOiF,QAAQZ,EAASpD,SAAS8D,EAASzC,KAAK0B,SAAQ,YAAgC,0BAA9B1C,EAA8B,KAAhBE,EAAgB,KAAhBA,SACtE,IAAKwD,EAAW1D,GACf,MAAM,IAAI4D,MAAJ,UAAa9D,EAAb,iBAA+BE,EAA/B,oCAEP,GAAI0D,EAAW1D,GAAYE,SAAWA,EACrC,MAAM,IAAI0D,MAAJ,UACF9D,EADE,yBACwB4D,EAAW1D,GAAYE,SAD/C,uCACsFA,IAGzFwD,EAAW1D,GAAYE,WAAaA,EAIxCwD,EAAW1D,GAAYE,UAAYA,SAH3BwD,EAAW1D,MAKpBkD,EAAYW,OAAOjB,eAAIb,EAAI,YAAa0B,EAASzC,IAAK,CACrD0C,aACAI,iBAAkBC,eAAWf,EAAchC,SAI7CkC,EAAYc,IAAIhB,EAAe,CAC9BiB,WAAYlB,EAASkB,WACrBzD,SAAUuC,EAASvC,SACnBG,QAASoC,EAASpC,QAClBhB,SAAUoD,EAASpD,SACnBe,WAAYqC,EAASrC,WACrBwD,WAAW,IAAIvC,MAAOC,UACtBuC,WAAW,IAAIxC,MAAOC,UACtBwC,UAAW,IAGZlB,EAAYW,OAAOjB,eAAIb,EAAI,WAAYgB,EAASkB,YAAa,CAC5DH,iBAAkBC,eAAWf,EAAchC,MAxCpB,2CAAL,uDAHC,2CAAH,sDAgDbqD,EAAiB,yDAAG,WAAMC,GAAN,4GACnBC,EAAU3B,eAAIb,EAAI,aAAcuC,GADb,SAEFE,eAAOD,GAFL,UAEnBE,EAFmB,OAGpBA,EAASC,SAHW,sBAGK,IAAId,MAAM,sBAHf,gBAIqBa,EAAS5B,OAA/CoB,EAJiB,EAIjBA,WAAYtE,EAJK,EAILA,SAAaoD,EAJR,oBAMnB4B,EAAkBH,eAAO5B,eAAIb,EAAI,WAAYkC,IAC7CW,EAAmBlG,OAAOC,KAAKgB,GAAUyD,KAAI,SAAAxD,GAAO,OAAI4E,eAAO5B,eAAIb,EAAI,YAAanC,OAPjE,UASnB0D,QAAQC,IAAR,CAAaoB,GAAb,sBAAiCC,KAAmB3D,MAAK,YAAsC,wBAApC4D,EAAoC,KAAnBC,EAAmB,WACpG/B,EAASgC,SAAW,CACnBd,WAAYY,EAAa7D,GACzBgE,aAAcH,EAAahC,OAAOmC,cAEnCF,EAAcpC,SAAQ,SAAAuC,GACrBtF,EAASsF,EAAMjE,IAAIlB,UAAYmF,EAAMpC,OAAO/C,gBAfrB,iCAmBlB,CACNwE,OAAQC,EAAQvD,GAChB+D,SAAUhC,EAASgC,SACnBpF,WACAa,SAAUuC,EAASvC,SACnBG,QAASoC,EAASpC,QAClBD,WAAYqC,EAASrC,WAErBwD,UAAWnB,EAASmB,UACpBC,UAAWpB,EAASoB,UACpBC,UAAWrB,EAASqB,YA7BI,4CAAH,uD,kCCpFvB,0GAAMc,EAAc,CACnB,iBACA,YACA,cACA,cACA,SACA,QACA,UACA,YACA,UACA,aACA,QAGK9D,EAAiB,CACtB+D,KAAM,CAAC,eAAgB,UAAW,sBAAuB,eACzDC,OAAQ,CAAC,gBAAiB,QAGrB/D,EAAgB,CACrB+D,OAAQ,CAAC,gBAAiB,S,kCCnB3B,IAAIC,EAAI,EAAQ,QACZC,EAAO,EAAQ,QAAgClC,IAC/CmC,EAA+B,EAAQ,QAEvCC,EAAsBD,EAA6B,OAKvDF,EAAE,CAAE7G,OAAQ,QAASiH,OAAO,EAAMC,QAASF,GAAuB,CAChEpC,IAAK,SAAauC,GAChB,OAAOL,EAAKM,KAAMD,EAAYE,UAAUjH,OAAS,EAAIiH,UAAU,QAAKC","file":"js/export-note-detail.d7a64ca4.js","sourcesContent":["export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","<template>\n\t<a-row type=\"flex\">\n\t\t<a-col flex=\"150px\">Shipping State:</a-col>\n\t\t<a-col flex=\"auto\"></a-col>\n\t</a-row>\n\t<div class=\"export\">\n\t\t<a-space>\n\t\t\t<a-button>Invoices</a-button>\n\t\t\t<a-button>Prescription</a-button>\n\t\t</a-space>\n\t</div>\n\n\t<table class=\"table\">\n\t\t<thead>\n\t\t\t<th>#</th>\n\t\t\t<th>Goods Name</th>\n\t\t\t<th>Expiry Date</th>\n\t\t\t<th>Quantity</th>\n\t\t\t<th>Actual</th>\n\t\t\t<th>Expected</th>\n\t\t\t<th>Total Price</th>\n\t\t</thead>\n\t\t<tbody style=\"text-align: right\">\n\t\t\t<template\n\t\t\t\tv-for=\"({ goodsName, ...expiryList }, goodsID, stockIndex) in exportNote.stockOut\"\n\t\t\t\t:key=\"stockIndex\"\n\t\t\t>\n\t\t\t\t<tr\n\t\t\t\t\tv-for=\"({ quantity, actualPrice, expectedPrice }, expiryDate, expiryIndex) in expiryList\"\n\t\t\t\t\t:key=\"expiryIndex\"\n\t\t\t\t>\n\t\t\t\t\t<td style=\"text-align: center\" v-if=\"expiryIndex === 0\" :rowspan=\"Object.keys(expiryList).length\">\n\t\t\t\t\t\t{{ stockIndex + 1 }}\n\t\t\t\t\t</td>\n\t\t\t\t\t<td style=\"text-align: left\" v-if=\"expiryIndex === 0\" :rowspan=\"Object.keys(expiryList).length\">\n\t\t\t\t\t\t{{ goodsName }}\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>{{ formatDateTime(Number(expiryDate)) }}</td>\n\t\t\t\t\t<td>{{ quantity }}</td>\n\t\t\t\t\t<td>{{ actualPrice }}</td>\n\t\t\t\t\t<td>{{ expectedPrice }}</td>\n\t\t\t\t\t<td>{{ quantity * actualPrice }}</td>\n\t\t\t\t</tr>\n\t\t\t</template>\n\t\t\t<tr>\n\t\t\t\t<td colspan=\"6\">Shipping cost</td>\n\t\t\t\t<td>{{ exportNote.shipping?.cost }}</td>\n\t\t\t</tr>\n\t\t\t<tr style=\"font-weight:bold\">\n\t\t\t\t<td colspan=\"6\">TotalMoney</td>\n\t\t\t\t<td>{{ exportNote.totalMoney }}</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td colspan=\"6\">Already Paid</td>\n\t\t\t\t<td>{{ exportNote.payment?.alreadyPaid }}</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td colspan=\"6\">\n\t\t\t\t\tDeficit\n\t\t\t\t</td>\n\t\t\t\t<td>\n\t\t\t\t\t{{ exportNote.totalMoney - exportNote.payment?.alreadyPaid }}\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</tbody>\n\t</table>\n</template>\n\n<script>\nimport { ref } from 'vue'\nimport { useRoute } from 'vue-router'\nimport { getExportNoteByID } from '@/firebase/useExportNote'\nimport { MyFormatDateTime } from '@/utils/convert'\nimport { UTILS_SHIPPING, UTILS_PAYMENT } from '@/utils/constants'\n\nexport default {\n\tsetup() {\n\t\tconst route = useRoute()\n\t\tconst exportNote = ref({})\n\t\tgetExportNoteByID(route.params.id).then(res => {\n\t\t\texportNote.value = res\n\t\t})\n\t\treturn { exportNote, UTILS_SHIPPING, UTILS_PAYMENT }\n\t},\n\tmethods: {\n\t\tformatDateTime(time) {\n\t\t\treturn MyFormatDateTime(time, 'DD/MM/YY')\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.export {\n\tmargin-bottom: 0.5rem;\n\tdisplay: flex;\n\tjustify-content: flex-end;\n}\n.table {\n\tmargin: 1rem 0 2rem 0;\n}\n</style>\n","import { render } from \"./ExportNoteDetail.vue?vue&type=template&id=e158dbac&scoped=true\"\nimport script from \"./ExportNoteDetail.vue?vue&type=script&lang=js\"\nexport * from \"./ExportNoteDetail.vue?vue&type=script&lang=js\"\n\nimport \"./ExportNoteDetail.vue?vue&type=style&index=0&id=e158dbac&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\Projects\\\\bstrang-vn\\\\bstrang-vn--vuejs\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e158dbac\"]])\n\nexport default __exports__","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ExportNoteDetail.vue?vue&type=style&index=0&id=e158dbac&lang=scss&scoped=true\"","import {\n\tgetFirestore,\n\tcollection,\n\tdoc,\n\tgetDoc,\n\tquery,\n\twhere,\n\torderBy,\n\tlimit,\n\tonSnapshot,\n\trunTransaction,\n\tarrayUnion,\n} from 'firebase/firestore'\nimport { reactive } from 'vue'\n\nconst nowTime = new Date().getTime()\nconst exportNoteList = reactive({})\nconst db = getFirestore()\nconst qr = query(\n\tcollection(db, 'EXPORTNOTE'),\n\twhere('updatedAt', '>', nowTime - 7 * 24 * 60 * 60 * 1000),\n\torderBy('updatedAt', 'asc'),\n\tlimit(10),\n)\n\nonSnapshot(qr, snapshot => {\n\tsnapshot.docChanges().forEach(change => {\n\t\tif (change.type === 'added' || change.type === 'modified') {\n\t\t\texportNoteList[change.doc.id] = change.doc.data()\n\t\t}\n\t\tif (change.type === 'removed') {\n\t\t\tdelete exportNoteList[change.doc.id]\n\t\t}\n\t})\n})\n\nconst addExportNote = async noteData => {\n\tconst exportNoteRef = doc(collection(db, 'EXPORTNOTE'))\n\n\tawait runTransaction(db, async transaction => {\n\t\tconst queryGoodsRefList = Object.keys(noteData.stockOut).map(goodsID =>\n\t\t\ttransaction.get(doc(db, 'WAREHOUSE', goodsID)),\n\t\t)\n\t\tconst goodsDocList = await Promise.all(queryGoodsRefList)\n\t\tgoodsDocList.forEach(goodsDoc => {\n\t\t\tconst { stockAvail, goodsName } = goodsDoc.data() || {}\n\t\t\tObject.entries(noteData.stockOut[goodsDoc.id]).forEach(([expiryDate, { quantity }]) => {\n\t\t\t\tif (!stockAvail[expiryDate]) {\n\t\t\t\t\tthrow new Error(`${goodsName} with ${expiryDate} are not available in warehouse`)\n\t\t\t\t}\n\t\t\t\tif (stockAvail[expiryDate].quantity < quantity) {\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t`${goodsName} available is ${stockAvail[expiryDate].quantity}. But, you have just export ${quantity}`,\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\tif (stockAvail[expiryDate].quantity === quantity) {\n\t\t\t\t\tdelete stockAvail[expiryDate]\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tstockAvail[expiryDate].quantity -= quantity\n\t\t\t})\n\t\t\ttransaction.update(doc(db, 'WAREHOUSE', goodsDoc.id), {\n\t\t\t\tstockAvail,\n\t\t\t\texportNoteIDList: arrayUnion(exportNoteRef.id),\n\t\t\t})\n\t\t})\n\n\t\ttransaction.set(exportNoteRef, {\n\t\t\tcustomerID: noteData.customerID,\n\t\t\tshipping: noteData.shipping,\n\t\t\tpayment: noteData.payment,\n\t\t\tstockOut: noteData.stockOut,\n\t\t\ttotalMoney: noteData.totalMoney,\n\t\t\tcreatedAt: new Date().getTime(),\n\t\t\tupdatedAt: new Date().getTime(),\n\t\t\tremovedAt: 0,\n\t\t})\n\n\t\ttransaction.update(doc(db, 'CUSTOMER', noteData.customerID), {\n\t\t\texportNoteIDList: arrayUnion(exportNoteRef.id),\n\t\t})\n\t})\n}\n\nconst getExportNoteByID = async noteID => {\n\tconst noteRef = doc(db, 'EXPORTNOTE', noteID)\n\tconst noteSnap = await getDoc(noteRef)\n\tif (!noteSnap.exists()) throw new Error('No such document !')\n\tconst { customerID, stockOut, ...noteData } = noteSnap.data()\n\n\tconst getCustomerSnap = getDoc(doc(db, 'CUSTOMER', customerID))\n\tconst getGoodsSnapList = Object.keys(stockOut).map(goodsID => getDoc(doc(db, 'WAREHOUSE', goodsID)))\n\n\tawait Promise.all([getCustomerSnap, ...getGoodsSnapList]).then(([customerSnap, ...goodsSnapList]) => {\n\t\tnoteData.customer = {\n\t\t\tcustomerID: customerSnap.id,\n\t\t\tcustomerName: customerSnap.data().customerName,\n\t\t}\n\t\tgoodsSnapList.forEach(goods => {\n\t\t\tstockOut[goods.id].goodsName = goods.data().goodsName\n\t\t})\n\t})\n\n\treturn {\n\t\tnoteID: noteRef.id,\n\t\tcustomer: noteData.customer,\n\t\tstockOut,\n\t\tshipping: noteData.shipping,\n\t\tpayment: noteData.payment,\n\t\ttotalMoney: noteData.totalMoney,\n\n\t\tcreatedAt: noteData.createdAt,\n\t\tupdatedAt: noteData.updatedAt,\n\t\tremovedAt: noteData.removedAt,\n\t}\n}\n\nexport { exportNoteList, addExportNote, getExportNoteByID }\n","const UTILS_GROUP = [\n\t'Kem Chống Nắng',\n\t'Tẩy Trang',\n\t'Sữa Rửa Mặt',\n\t'Tẩy Da Chết',\n\t'Tonner',\n\t'Serum',\n\t'Đặc Trị',\n\t'Kem Dưỡng',\n\t'Sữa Tắm',\n\t'Thuốc Viên',\n\t'Khác',\n]\n\nconst UTILS_SHIPPING = {\n\tunit: ['Viettel Post', 'Shoppee', 'Giao Hàng Tiết Kiệm', 'Ship Thường'],\n\tmethod: ['Bank Transfer', 'COD'],\n}\n\nconst UTILS_PAYMENT = {\n\tmethod: ['Bank Transfer', 'COD'],\n}\n\nexport { UTILS_GROUP, UTILS_SHIPPING, UTILS_PAYMENT }\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}