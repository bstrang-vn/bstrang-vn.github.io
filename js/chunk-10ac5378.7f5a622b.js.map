{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.object.values.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","webpack:///./src/components/warehouse/GoodsDetails.vue","webpack:///./src/components/warehouse/GoodsDetails.vue?99f0","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./src/components/common/ModalCreateModifyGoods.vue","webpack:///./src/components/common/ModalCreateModifyGoods.vue?caff","webpack:///./node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js","webpack:///./src/firebase/useWarehouse.js","webpack:///./src/utils/constants.js","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./src/components/common/ModalCreateModifyGoods.vue?62a1"],"names":["$","$values","values","target","stat","O","_objectWithoutPropertiesLoose","source","excluded","key","i","sourceKeys","Object","keys","length","indexOf","_objectWithoutProperties","objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","class","colspan","goods","goodsName","group","unit","wholesalePrice","retailPrice","$refs","modalCreateModifyGoods","openModal","goodsID","ref","stockAvail","batch","batchIndex","quantity","formatDateTime","Number","split","totalQuantity","totalPriceImport","importNoteList","note","noteID","noteIndex","provider","providerName","createdAt","stockIn","stock","exportNoteList","showExportNoteDetails","customer","customerName","stockOut","actualPrice","$router","go","startDeleteGoods","type","components","ModalCreateModifyGoods","setup","route","realtimeGoods","params","id","data","unmounted","this","unSubscribe","computed","reduce","acc","entries","each","methods","push","name","$notification","open","message","description","placement","duration","that","confirm","title","icon","ExclamationCircleOutlined","onOk","start","success","error","console","time","__exports__","render","$find","find","addToUnscopables","FIND","SKIPS_HOLES","Array","proto","forced","callbackfn","arguments","undefined","visible","visibleModal","width","confirm-loading","confirmModalLoading","afterClose","refreshModal","handleModalGoodsOk","value","UTILS_GOODSTYPE","index","addon-after","goodsArray","item","goodsData","$emit","log","_objectDestructuringEmpty","obj","TypeError","reactive","db","getFirestore","onSnapshot","query","collection","snapshot","docChanges","forEach","change","newGoods","doc","goodsIndex","findIndex","splice","startRealtimeGoods","goodsDoc","exportNoteIDList","importNoteIDList","getImportNoteList","map","getDoc","getExportNoteList","Promise","all","importNoteSnapList","exportNoteSnapList","noteSnap","addGoods","newData","costPrice","addDoc","Date","getTime","updatedAt","removedAt","docRef","docSnap","updateGoods","updateDoc","deleteGoods","deleteDoc","UTILS_EXPORTNOTES","shipping","units","payment","method","status","UTILS_IMPORTNOTES","$map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT"],"mappings":"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","file":"js/chunk-10ac5378.7f5a622b.js","sourcesContent":["var $ = require('../internals/export');\nvar $values = require('../internals/object-to-array').values;\n\n// `Object.values` method\n// https://tc39.es/ecma262/#sec-object.values\n$({ target: 'Object', stat: true }, {\n  values: function values(O) {\n    return $values(O);\n  }\n});\n","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","<template>\n\t<h1 class=\"title-content\">Thông tin sản phẩm</h1>\n\t<div>\n\t\t<div class=\"flex\">\n\t\t\t<div class=\"w-20\">Tên</div>\n\t\t\t<div class=\"w-8\">:</div>\n\t\t\t<div class=\"font-bold\">{{ goods.goodsName }}</div>\n\t\t</div>\n\t\t<div class=\"flex\">\n\t\t\t<div class=\"w-20\">Nhóm</div>\n\t\t\t<div class=\"w-8\">:</div>\n\t\t\t<div>{{ goods.group }}</div>\n\t\t</div>\n\t\t<div class=\"flex\">\n\t\t\t<div class=\"w-20\">Đơn vị</div>\n\t\t\t<div class=\"w-8\">:</div>\n\t\t\t<div>{{ goods.unit }}</div>\n\t\t</div>\n\t\t<div class=\"flex\">\n\t\t\t<div class=\"w-20\">Sỉ</div>\n\t\t\t<div class=\"w-8\">:</div>\n\t\t\t<div>{{ goods.wholesalePrice }}</div>\n\t\t</div>\n\t\t<div class=\"flex\">\n\t\t\t<div class=\"w-20\">Lẻ</div>\n\t\t\t<div class=\"w-8\">:</div>\n\t\t\t<div>{{ goods.retailPrice }}</div>\n\t\t</div>\n\t\t<div class=\"mt-2\">\n\t\t\t<a-button @click=\"$refs.modalCreateModifyGoods.openModal(goods.goodsID)\">Edit</a-button>\n\t\t\t<ModalCreateModifyGoods ref=\"modalCreateModifyGoods\" />\n\t\t</div>\n\t</div>\n\t<div class=\"mt-4 font-bold\">Hiện có trong tủ:</div>\n\t<div class=\"wrapper-table\">\n\t\t<table class=\"table\">\n\t\t\t<thead>\n\t\t\t\t<th>#</th>\n\t\t\t\t<th class=\"w-1/4\">HSD</th>\n\t\t\t\t<th class=\"w-1/4\">Nhập</th>\n\t\t\t\t<th class=\"w-1/4\">SL</th>\n\t\t\t\t<th class=\"w-1/4\">Tổng</th>\n\t\t\t</thead>\n\t\t\t<tbody class=\"text-right\">\n\t\t\t\t<tr v-for=\"({ quantity }, batch, batchIndex) in goods.stockAvail\" :key=\"batchIndex\">\n\t\t\t\t\t<td class=\"text-center\">{{ batchIndex + 1 }}</td>\n\t\t\t\t\t<td>{{ formatDateTime(Number(batch.split('-')[0])) }}</td>\n\t\t\t\t\t<td>{{ batch.split('-')[1] }}</td>\n\t\t\t\t\t<td>{{ quantity }}</td>\n\t\t\t\t\t<td>{{ quantity * Number(batch.split('-')[1]) }}</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td colspan=\"3\">Tổng</td>\n\t\t\t\t\t<td>{{ totalQuantity }}</td>\n\t\t\t\t\t<td>{{ totalPriceImport }}</td>\n\t\t\t\t</tr>\n\t\t\t</tbody>\n\t\t</table>\n\t</div>\n\n\t<div class=\"mt-4 font-bold\">Lịch sử nhập thuốc:</div>\n\t<div class=\"wrapper-table\">\n\t\t<table class=\"table\">\n\t\t\t<thead>\n\t\t\t\t<th>#</th>\n\t\t\t\t<th class=\"w-1/6\">Nguồn</th>\n\t\t\t\t<th class=\"w-1/6\">Ngày</th>\n\t\t\t\t<th class=\"w-1/6\">HSD</th>\n\t\t\t\t<th class=\"w-1/6\">Nhập</th>\n\t\t\t\t<th class=\"w-1/6\">SL</th>\n\t\t\t\t<th class=\"w-1/6\">Tổng</th>\n\t\t\t</thead>\n\t\t\t<tbody class=\"text-right\">\n\t\t\t\t<tr v-for=\"(note, noteID, noteIndex) in goods.importNoteList\" :key=\"noteIndex\">\n\t\t\t\t\t<td class=\"text-center\">{{ noteIndex + 1 }}</td>\n\t\t\t\t\t<td class=\"text-left\">{{ note.provider.providerName }}</td>\n\t\t\t\t\t<td>{{ formatDateTime(note.createdAt) }}</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<p\n\t\t\t\t\t\t\tv-for=\"({}, batch, batchIndex) in note.stockIn[goods.goodsID]\"\n\t\t\t\t\t\t\t:key=\"batchIndex\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ formatDateTime(Number(batch.split('-')[0])) }}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<p\n\t\t\t\t\t\t\tv-for=\"({}, batch, batchIndex) in note.stockIn[goods.goodsID]\"\n\t\t\t\t\t\t\t:key=\"batchIndex\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ batch.split('-')[1] }}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<p\n\t\t\t\t\t\t\tv-for=\"(stock, batch, batchIndex) in note.stockIn[goods.goodsID]\"\n\t\t\t\t\t\t\t:key=\"batchIndex\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ stock.quantity }}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<p\n\t\t\t\t\t\t\tv-for=\"(stock, batch, batchIndex) in note.stockIn[goods.goodsID]\"\n\t\t\t\t\t\t\t:key=\"batchIndex\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ stock.quantity * Number(batch.split('-')[1]) }}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</tbody>\n\t\t</table>\n\t</div>\n\n\t<div class=\"mt-4 font-bold\">Lịch sử xuất thuốc:</div>\n\t<div class=\"wrapper-table\">\n\t\t<table class=\"table\">\n\t\t\t<thead>\n\t\t\t\t<th>#</th>\n\t\t\t\t<th class=\"w-1/6\">KH</th>\n\t\t\t\t<th class=\"w-1/6\">Ngày</th>\n\t\t\t\t<th class=\"w-1/6\">HSD</th>\n\t\t\t\t<th class=\"w-1/6\">Bán</th>\n\t\t\t\t<th class=\"w-1/6\">SL</th>\n\t\t\t\t<th class=\"w-1/6\">Tổng</th>\n\t\t\t</thead>\n\t\t\t<tbody class=\"text-right\">\n\t\t\t\t<tr\n\t\t\t\t\tv-for=\"(note, noteID, noteIndex) in goods.exportNoteList\"\n\t\t\t\t\t:key=\"noteIndex\"\n\t\t\t\t\t@click=\"showExportNoteDetails(noteID)\"\n\t\t\t\t>\n\t\t\t\t\t<td class=\"text-center\">{{ noteIndex + 1 }}</td>\n\t\t\t\t\t<td class=\"text-left\">{{ note.customer.customerName }}</td>\n\t\t\t\t\t<td>{{ formatDateTime(note.createdAt) }}</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<p\n\t\t\t\t\t\t\tv-for=\"({}, batch, batchIndex) in note.stockOut[goods.goodsID]\"\n\t\t\t\t\t\t\t:key=\"batchIndex\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ formatDateTime(Number(batch.split('-')[0])) }}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<p\n\t\t\t\t\t\t\tv-for=\"(stock, batch, batchIndex) in note.stockOut[goods.goodsID]\"\n\t\t\t\t\t\t\t:key=\"batchIndex\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ stock.actualPrice }}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<p\n\t\t\t\t\t\t\tv-for=\"(stock, batch, batchIndex) in note.stockOut[goods.goodsID]\"\n\t\t\t\t\t\t\t:key=\"batchIndex\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ stock.quantity }}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<p\n\t\t\t\t\t\t\tv-for=\"(stock, batch, batchIndex) in note.stockOut[goods.goodsID]\"\n\t\t\t\t\t\t\t:key=\"batchIndex\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ stock.actualPrice * stock.quantity }}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</tbody>\n\t\t</table>\n\t</div>\n\t<div class=\"flex justify-between mt-4\">\n\t\t<a-button @click=\"$router.go(-1)\">Back</a-button>\n\t\t<a-button @click=\"startDeleteGoods(goods.goodsID)\" type=\"dashed\">Delete</a-button>\n\t</div>\n</template>\n\n<script>\nimport { createVNode } from 'vue'\nimport { useRoute } from 'vue-router'\nimport { message, Modal } from 'ant-design-vue'\nimport { ExclamationCircleOutlined } from '@ant-design/icons-vue'\nimport { startRealtimeGoods, deleteGoods } from '@/firebase/useWarehouse'\nimport ModalCreateModifyGoods from '@/components/common/ModalCreateModifyGoods.vue'\nimport { MyFormatDateTime } from '@/utils/convert'\n\nexport default {\n\tcomponents: { ModalCreateModifyGoods },\n\tsetup() {\n\t\tconst route = useRoute()\n\t\tconst realtimeGoods = startRealtimeGoods(route.params.id)\n\t\treturn {\n\t\t\tgoods: realtimeGoods.data,\n\t\t\trealtimeGoods,\n\t\t}\n\t},\n\tunmounted() {\n\t\tthis.realtimeGoods.unSubscribe()\n\t},\n\tcomputed: {\n\t\ttotalQuantity() {\n\t\t\treturn Object.values(this.goods?.stockAvail || {}).reduce(\n\t\t\t\t(acc, { quantity }) => acc + quantity,\n\t\t\t\t0,\n\t\t\t)\n\t\t},\n\t\ttotalPriceImport() {\n\t\t\treturn Object.entries(this.goods.stockAvail || {}).reduce(\n\t\t\t\t(acc, [batch, { quantity }]) => {\n\t\t\t\t\tconst each = quantity * Number(batch.split('-')[1])\n\t\t\t\t\treturn acc + each\n\t\t\t\t},\n\t\t\t\t0,\n\t\t\t)\n\t\t},\n\t},\n\tmethods: {\n\t\tshowExportNoteDetails(noteID) {\n\t\t\tthis.$router.push({ name: 'ExportNote Details', params: { id: noteID } })\n\t\t},\n\t\tasync startDeleteGoods(goodsID) {\n\t\t\tif (Object.keys(this.goods.stockAvail).length !== 0) {\n\t\t\t\tthis.$notification.open({\n\t\t\t\t\tmessage: 'Lỗi !!!',\n\t\t\t\t\tdescription: 'Không thể xóa thuốc vẫn còn số lượng trong tủ',\n\t\t\t\t\tplacement: 'topRight',\n\t\t\t\t\tduration: 2,\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}\n\t\t\tconst that = this\n\t\t\tModal.confirm({\n\t\t\t\ttitle: () => 'Bạn có chắc chắn muốn xóa?',\n\t\t\t\ticon: () => createVNode(ExclamationCircleOutlined),\n\t\t\t\tonOk() {\n\t\t\t\t\tconst start = async () => {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tthat.realtimeGoods.unSubscribe()\n\t\t\t\t\t\t\tawait deleteGoods(goodsID)\n\t\t\t\t\t\t\tmessage.success('Xóa thuốc thành công !!!', 2)\n\t\t\t\t\t\t\tthat.$router.push({ name: 'Goods List', params: {} })\n\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\tmessage.error(error)\n\t\t\t\t\t\t\tconsole.error(error)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tstart()\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\tformatDateTime(time) {\n\t\t\treturn MyFormatDateTime(time, 'MM/YY')\n\t\t},\n\t},\n}\n</script>\n","import { render } from \"./GoodsDetails.vue?vue&type=template&id=20c3f288\"\nimport script from \"./GoodsDetails.vue?vue&type=script&lang=js\"\nexport * from \"./GoodsDetails.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Projects\\\\bstrang-vn\\\\bstrang-vn--vuejs\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","<template>\n\t<a-modal\n\t\tv-model:visible=\"visibleModal\"\n\t\twidth=\"900px\"\n\t\ttitle=\"Tạo Sản Phẩm Mới\"\n\t\t:confirm-loading=\"confirmModalLoading\"\n\t\t:afterClose=\"refreshModal\"\n\t\t@ok=\"handleModalGoodsOk\"\n\t>\n\t\t<form>\n\t\t\t<div class=\"flex items-center mb-2\">\n\t\t\t\t<div class=\"w-100px flex-none\">Tên</div>\n\t\t\t\t<a-input v-model:value=\"goods.goodsName\" class=\"flex-auto\"></a-input>\n\t\t\t</div>\n\t\t\t<div class=\"flex items-center mb-2\">\n\t\t\t\t<div class=\"w-100px flex-none\">Nhóm</div>\n\t\t\t\t<a-select ref=\"select\" v-model:value=\"goods.group\" class=\"flex-auto\">\n\t\t\t\t\t<a-select-option\n\t\t\t\t\t\tv-for=\"(group, index) in UTILS_GOODSTYPE.group\"\n\t\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t\t:value=\"group\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ group }}\n\t\t\t\t\t</a-select-option>\n\t\t\t\t</a-select>\n\t\t\t</div>\n\t\t\t<div class=\"flex items-center mb-2\">\n\t\t\t\t<div class=\"w-100px flex-none\">Đơn vị</div>\n\t\t\t\t<a-select ref=\"select\" v-model:value=\"goods.unit\" class=\"flex-auto\">\n\t\t\t\t\t<a-select-option\n\t\t\t\t\t\tv-for=\"(unit, index) in UTILS_GOODSTYPE.unit\"\n\t\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t\t:value=\"unit\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ unit }}\n\t\t\t\t\t</a-select-option>\n\t\t\t\t</a-select>\n\t\t\t</div>\n\t\t\t<div class=\"flex items-center mb-2\">\n\t\t\t\t<div class=\"w-100px flex-none\">Giá Sỉ</div>\n\t\t\t\t<a-input\n\t\t\t\t\tv-model:value.number=\"goods.wholesalePrice\"\n\t\t\t\t\taddon-after=\".000 vnđ\"\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\tclass=\"flex-auto\"\n\t\t\t\t></a-input>\n\t\t\t</div>\n\t\t\t<div class=\"flex items-center mb-2\">\n\t\t\t\t<div class=\"w-100px flex-none\">Giá Lẻ</div>\n\t\t\t\t<a-input\n\t\t\t\t\tv-model:value.number=\"goods.retailPrice\"\n\t\t\t\t\taddon-after=\".000 vnđ\"\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\tclass=\"flex-auto\"\n\t\t\t\t></a-input>\n\t\t\t</div>\n\t\t</form>\n\t</a-modal>\n</template>\n\n<script>\nimport { ref } from 'vue'\nimport { goodsArray, addGoods, updateGoods } from '@/firebase/useWarehouse'\nimport { UTILS_GOODSTYPE } from '@/utils/constants'\n\nexport default {\n\tsetup() {\n\t\treturn {\n\t\t\tvisibleModal: ref(false),\n\t\t\tconfirmModalLoading: ref(false),\n\t\t\tgoods: ref({\n\t\t\t\tgoodsID: '',\n\t\t\t\tgoodsName: '',\n\t\t\t\tgroup: '',\n\t\t\t\tunit: '',\n\t\t\t\tretailPrice: '',\n\t\t\t\twholesalePrice: '',\n\t\t\t}),\n\t\t\tgoodsArray,\n\t\t\tUTILS_GOODSTYPE,\n\t\t}\n\t},\n\tmethods: {\n\t\topenModal(goodsID) {\n\t\t\tthis.visibleModal = true\n\t\t\tif (goodsID) {\n\t\t\t\tconst data = this.goodsArray.find(item => item.goodsID === goodsID)\n\t\t\t\tthis.goods.goodsID = goodsID\n\t\t\t\tthis.goods.goodsName = data.goodsName\n\t\t\t\tthis.goods.group = data.group\n\t\t\t\tthis.goods.unit = data.unit\n\t\t\t\tthis.goods.retailPrice = data.retailPrice\n\t\t\t\tthis.goods.wholesalePrice = data.wholesalePrice\n\t\t\t}\n\t\t},\n\t\trefreshModal() {\n\t\t\tthis.goods.goodsID = ''\n\t\t\tthis.goods.goodsName = ''\n\t\t\tthis.goods.group = ''\n\t\t\tthis.goods.unit = ''\n\t\t\tthis.goods.retailPrice = ''\n\t\t\tthis.goods.wholesalePrice = ''\n\n\t\t\tthis.confirmModalLoading = false\n\t\t},\n\t\tasync handleModalGoodsOk() {\n\t\t\tthis.confirmModalLoading = true\n\t\t\tconst goodsData = {\n\t\t\t\tgoodsName: this.goods.goodsName,\n\t\t\t\tgroup: this.goods.group,\n\t\t\t\tunit: this.goods.unit,\n\t\t\t\twholesalePrice: this.goods.wholesalePrice,\n\t\t\t\tretailPrice: this.goods.retailPrice,\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tif (!this.goods.goodsID) {\n\t\t\t\t\tconst goods = await addGoods(goodsData)\n\t\t\t\t\tthis.$emit('actionGoods', goods)\n\t\t\t\t} else {\n\t\t\t\t\tconst goods = await updateGoods(this.goods.goodsID, goodsData)\n\t\t\t\t\tthis.$emit('actionGoods', goods)\n\t\t\t\t}\n\t\t\t\tthis.visibleModal = false\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log(error)\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.w-100px {\n\twidth: 100px;\n}\n</style>\n","import { render } from \"./ModalCreateModifyGoods.vue?vue&type=template&id=4c173066&scoped=true\"\nimport script from \"./ModalCreateModifyGoods.vue?vue&type=script&lang=js\"\nexport * from \"./ModalCreateModifyGoods.vue?vue&type=script&lang=js\"\n\nimport \"./ModalCreateModifyGoods.vue?vue&type=style&index=0&id=4c173066&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\Projects\\\\bstrang-vn\\\\bstrang-vn--vuejs\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4c173066\"]])\n\nexport default __exports__","export default function _objectDestructuringEmpty(obj) {\n  if (obj == null) throw new TypeError(\"Cannot destructure undefined\");\n}","import {\n\tgetFirestore,\n\tonSnapshot,\n\tcollection,\n\tdoc,\n\tgetDoc,\n\taddDoc,\n\tupdateDoc,\n\tdeleteDoc,\n\tquery,\n} from 'firebase/firestore'\nimport { reactive, ref } from 'vue'\n\nconst goodsArray = reactive([])\nconst db = getFirestore()\n\nonSnapshot(query(collection(db, 'WAREHOUSE')), snapshot => {\n\tsnapshot.docChanges().forEach(change => {\n\t\tconst newGoods = {\n\t\t\tgoodsID: change.doc.id,\n\t\t\t...change.doc.data(),\n\t\t}\n\t\tconst goodsIndex = goodsArray.findIndex(item => item.goodsID === change.doc.id)\n\t\tif (change.type === 'added') {\n\t\t\tgoodsArray.push(newGoods)\n\t\t} else if (change.type === 'modified') {\n\t\t\tgoodsArray.splice(goodsIndex, 1, newGoods)\n\t\t} else if (change.type === 'removed') {\n\t\t\tgoodsArray.splice(goodsIndex, 1)\n\t\t}\n\t})\n})\n\nconst startRealtimeGoods = goodsID => {\n\tconst data = ref({})\n\tconst unSubscribe = onSnapshot(doc(db, 'WAREHOUSE', goodsID), async goodsDoc => {\n\t\tconst { exportNoteIDList, importNoteIDList, ...goodsData } = goodsDoc.data()\n\n\t\tconst getImportNoteList = importNoteIDList.map(noteID => getDoc(doc(db, 'IMPORTNOTE', noteID)))\n\t\tconst getExportNoteList = exportNoteIDList.map(noteID => getDoc(doc(db, 'EXPORTNOTE', noteID)))\n\n\t\tconst [importNoteSnapList, exportNoteSnapList] = [\n\t\t\tawait Promise.all(getImportNoteList),\n\t\t\tawait Promise.all(getExportNoteList),\n\t\t]\n\t\tconst [importNoteList, exportNoteList] = [{}, {}]\n\n\t\timportNoteSnapList.forEach(noteSnap => {\n\t\t\timportNoteList[noteSnap.id] = noteSnap.data()\n\t\t})\n\t\texportNoteSnapList.forEach(noteSnap => {\n\t\t\texportNoteList[noteSnap.id] = noteSnap.data()\n\t\t})\n\n\t\tdata.value = {\n\t\t\tgoodsID,\n\t\t\t...goodsData,\n\t\t\texportNoteList,\n\t\t\timportNoteList,\n\t\t}\n\t})\n\treturn { data, unSubscribe }\n}\n\nconst addGoods = async newData => {\n\tconst { goodsName, group, unit, costPrice, retailPrice, wholesalePrice } = newData\n\tconst docRef = await addDoc(collection(db, 'WAREHOUSE'), {\n\t\tgoodsName,\n\t\tgroup,\n\t\tunit,\n\t\tcostPrice,\n\t\tretailPrice,\n\t\twholesalePrice,\n\t\tstockAvail: {},\n\t\timportNoteIDList: [],\n\t\texportNoteIDList: [],\n\n\t\tcreatedAt: new Date().getTime(),\n\t\tupdatedAt: new Date().getTime(),\n\t\tremovedAt: 0,\n\t})\n\n\tconst docSnap = await getDoc(docRef)\n\treturn {\n\t\tgoodsID: docSnap.id,\n\t\t...docSnap.data(),\n\t}\n}\n\nconst updateGoods = async (id, data) => {\n\tconst docRef = doc(db, 'WAREHOUSE', id)\n\tawait updateDoc(docRef, {\n\t\t...data,\n\t\tupdatedAt: new Date().getTime(),\n\t})\n\n\tconst docSnap = await getDoc(docRef)\n\treturn {\n\t\tgoodsID: docSnap.id,\n\t\t...docSnap.data(),\n\t}\n}\n\nconst deleteGoods = async goodsID => {\n\tawait deleteDoc(doc(db, 'WAREHOUSE', goodsID))\n\treturn goodsID\n}\n\nexport { goodsArray, startRealtimeGoods, addGoods, updateGoods, deleteGoods }\n","const UTILS_GOODSTYPE = {\n\tgroup: [\n\t\t'Đặc Trị',\n\t\t'Kem Dưỡng',\n\t\t'Kem Chống Nắng',\n\t\t'Sữa Rửa Mặt',\n\t\t'Tẩy Trang',\n\t\t'Tẩy Da Chết',\n\t\t'Toner',\n\t\t'Serum',\n\t\t'Sữa Tắm',\n\t\t'Thuốc Viên',\n\t\t'Khác',\n\t],\n\tunit: ['Hộp', 'Chai', 'Tuýp', 'Lọ', 'Ống', 'Cái', 'Túi', 'Khác'],\n}\n\nconst UTILS_EXPORTNOTES = {\n\tshipping: {\n\t\tunits: ['VTP', 'Shopee', 'GHTK', 'Thường'],\n\t},\n\tpayment: {\n\t\tmethod: ['CK', 'COD'],\n\t},\n\tstatus: ['Pending', 'Success'],\n}\n\nconst UTILS_IMPORTNOTES = {\n\tstatus: ['Pending', 'Success'],\n}\n\nexport { UTILS_GOODSTYPE, UTILS_EXPORTNOTES, UTILS_IMPORTNOTES }\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ModalCreateModifyGoods.vue?vue&type=style&index=0&id=4c173066&lang=scss&scoped=true\""],"sourceRoot":""}