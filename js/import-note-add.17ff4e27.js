(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["import-note-add"],{"07ac":function(e,t,n){var r=n("23e7"),o=n("6f53").values;r({target:"Object",stat:!0},{values:function(e){return o(e)}})},"15fd":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("a4d3"),n("b64b");function r(e,t){if(null==e)return{};var n,r,o={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function o(e,t){if(null==e)return{};var n,o,c=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}},3269:function(e,t,n){},"350f":function(e,t,n){"use strict";n.r(t);n("b64b"),n("a9e3");var r=n("7a23"),o=function(e){return Object(r["K"])("data-v-192fbb74"),e=e(),Object(r["I"])(),e},c=Object(r["n"])("Create New Provider"),a={style:{display:"flex","justify-content":"flex-end"}},i=Object(r["n"])(" Add Goods "),s={class:"wrapper-table"},u={class:"table"},l=o((function(){return Object(r["m"])("thead",null,[Object(r["m"])("th",null,"#"),Object(r["m"])("th",null,"Name"),Object(r["m"])("th",null,"Expiry Date"),Object(r["m"])("th",null,"Quantity"),Object(r["m"])("th",null,"Cost Price"),Object(r["m"])("th",null,"Total"),Object(r["m"])("th",null,"Action")],-1)})),d={key:0},b=o((function(){return Object(r["m"])("td",{colspan:"7",style:{"text-align":"center"}},"No data available in table",-1)})),f=[b],O=["rowspan"],h=["rowspan"],p={style:{"text-align":"right"}},j={style:{"text-align":"right"}},v={style:{"text-align":"right"}},m={style:{"text-align":"right"}},g={style:{"text-align":"center"}},y={style:{"text-align":"right"}},P=o((function(){return Object(r["m"])("td",{colspan:"5"},"Ship",-1)})),w=o((function(){return Object(r["m"])("td",null,null,-1)})),k={style:{"text-align":"right"}},I=o((function(){return Object(r["m"])("td",{colspan:"5"},"Total Money",-1)})),D=o((function(){return Object(r["m"])("td",null,null,-1)})),x={style:{display:"flex","justify-content":"center","margin-top":"1rem"}},S=Object(r["n"])(" Create "),M=Object(r["n"])(" Cancel ");function C(e,t,n,o,b,C){var N=Object(r["Q"])("InputSearchProvider"),T=Object(r["Q"])("a-button"),L=Object(r["Q"])("ModalCreateProvider"),A=Object(r["Q"])("a-form-item"),U=Object(r["Q"])("a-input"),_=Object(r["Q"])("PlusOutlined"),R=Object(r["Q"])("ModalAddStockIn"),E=Object(r["Q"])("EditTwoTone"),H=Object(r["Q"])("a-form");return Object(r["H"])(),Object(r["j"])(H,{"label-col":{flex:"100px"},"wrapper-col":{flex:"auto"},class:"form"},{default:Object(r["bb"])((function(){return[Object(r["o"])(A,{label:"Provider"},{default:Object(r["bb"])((function(){return[Object(r["o"])(N,{ref:"inputSearchProvider",onSelectProvider:C.handleSelectProvider,onSearchingProvider:C.handleSearchingProvider,style:{width:"calc(100% - 160px)"}},null,8,["onSelectProvider","onSearchingProvider"]),Object(r["o"])(T,{type:"primary",onClick:C.openModalCreateProvider},{default:Object(r["bb"])((function(){return[c]})),_:1},8,["onClick"]),Object(r["o"])(L,{ref:"modalAddProvider",onNewProviderCreated:C.handleCreateNewProvider},null,8,["onNewProviderCreated"])]})),_:1}),Object(r["o"])(A,{label:"Shipping Cost"},{default:Object(r["bb"])((function(){return[Object(r["o"])(U,{value:o.shippingCost,"onUpdate:value":t[0]||(t[0]=function(e){return o.shippingCost=e}),valueModifiers:{number:!0},"addon-after":".000 vnđ",type:"number"},null,8,["value"])]})),_:1}),Object(r["o"])(A,{label:"Goods List"},{default:Object(r["bb"])((function(){return[Object(r["m"])("div",a,[Object(r["o"])(T,{onClick:C.openModalAddStockIn},{icon:Object(r["bb"])((function(){return[Object(r["o"])(_)]})),default:Object(r["bb"])((function(){return[i]})),_:1},8,["onClick"])])]})),_:1}),Object(r["o"])(R,{ref:"modalAddStockIn",onAddStockIn:C.addStockIn},null,8,["onAddStockIn"]),Object(r["m"])("div",s,[Object(r["m"])("table",u,[l,Object(r["m"])("tbody",null,[0===Object.keys(o.stockIn).length?(Object(r["H"])(),Object(r["l"])("tr",d,f)):Object(r["k"])("",!0),(Object(r["H"])(!0),Object(r["l"])(r["b"],null,Object(r["O"])(o.stockIn,(function(e,t,n){return Object(r["H"])(),Object(r["l"])(r["b"],{key:n},[(Object(r["H"])(!0),Object(r["l"])(r["b"],null,Object(r["O"])(e,(function(c,a,i){var s=c.quantity,u=c.costPrice;return Object(r["H"])(),Object(r["l"])("tr",{key:i},[0===i?(Object(r["H"])(),Object(r["l"])("td",{key:0,style:{"text-align":"center"},rowspan:Object.keys(e).length},Object(r["U"])(n+1),9,O)):Object(r["k"])("",!0),0===i?(Object(r["H"])(),Object(r["l"])("td",{key:1,rowspan:Object.keys(e).length},Object(r["U"])(o.goodsList[t].goodsName),9,h)):Object(r["k"])("",!0),Object(r["m"])("td",p,Object(r["U"])(C.formatDateTime(Number(a))),1),Object(r["m"])("td",j,Object(r["U"])(s),1),Object(r["m"])("td",v,Object(r["U"])(u),1),Object(r["m"])("td",m,Object(r["U"])(s*u),1),Object(r["m"])("td",g,[Object(r["o"])(E,{twoToneColor:"orange",class:"delete-row-goods",onClick:function(e){return C.editStockIn(t,a)}},null,8,["onClick"])])])})),128))],64)})),128)),Object(r["m"])("tr",y,[P,Object(r["m"])("td",null,Object(r["U"])(o.shippingCost),1),w]),Object(r["m"])("tr",k,[I,Object(r["m"])("td",null,Object(r["U"])(C.totalMoney),1),D])])])]),Object(r["o"])(A,null,{default:Object(r["bb"])((function(){return[Object(r["m"])("div",x,[Object(r["o"])(T,{type:"primary",loading:o.loadingCreateNote,onClick:C.startCreateNote},{default:Object(r["bb"])((function(){return[S]})),_:1},8,["loading","onClick"]),Object(r["o"])(T,{style:{"margin-left":"10px"},onClick:C.handleCancleForm},{default:Object(r["bb"])((function(){return[M]})),_:1},8,["onClick"])])]})),_:1})]})),_:1})}var N=n("1da1"),T=(n("96cf"),n("07ac"),n("47ce")),L=n("43d7"),A=n("4873"),U=n("b65c");function _(e,t,n,o,c,a){var i=Object(r["Q"])("a-select-option"),s=Object(r["Q"])("CheckCircleTwoTone"),u=Object(r["Q"])("a-tooltip"),l=Object(r["Q"])("CloseCircleTwoTone"),d=Object(r["Q"])("a-input"),b=Object(r["Q"])("a-auto-complete");return Object(r["H"])(),Object(r["j"])(b,{value:o.providerName,"onUpdate:value":t[0]||(t[0]=function(e){return o.providerName=e}),"filter-option":a.handleFilterProviderList,onSearch:a.handleSearching,onSelect:a.handleSelectProvider},{dataSource:Object(r["bb"])((function(){return[(Object(r["H"])(!0),Object(r["l"])(r["b"],null,Object(r["O"])(o.providerList,(function(e,t){return Object(r["H"])(),Object(r["j"])(i,{key:t,value:e.providerName},{default:Object(r["bb"])((function(){return[Object(r["n"])(Object(r["U"])(e.providerName),1)]})),_:2},1032,["value"])})),128))]})),default:Object(r["bb"])((function(){return[Object(r["o"])(d,{placeholder:"Search Provider"},{suffix:Object(r["bb"])((function(){return[o.providerID?(Object(r["H"])(),Object(r["j"])(u,{key:0,title:"Configuration"},{default:Object(r["bb"])((function(){return[Object(r["o"])(s,{twoToneColor:"blue"})]})),_:1})):(Object(r["H"])(),Object(r["j"])(u,{key:1,title:"Provider are not exists"},{default:Object(r["bb"])((function(){return[Object(r["o"])(l,{twoToneColor:"red"})]})),_:1}))]})),_:1})]})),_:1},8,["value","filter-option","onSearch","onSelect"])}var R=n("9648"),E=n("6ffa"),H=n("7db8"),Q=n("bcc2"),q={components:{CloseCircleTwoTone:R["a"],CheckCircleTwoTone:E["a"]},setup:function(){return{providerList:H["b"],providerID:Object(r["M"])(""),providerName:Object(r["M"])("")}},methods:{handleSearching:function(e){this.providerID="",this.$emit("searchingProvider",e)},handleSelectProvider:function(e,t){this.providerID=t.key,this.$emit("selectProvider",{id:t.key,data:H["b"][t.key]})},handleFilterProviderList:function(e,t){return Object(Q["b"])(t.value,e)}}},$=n("6b0d"),G=n.n($);const F=G()(q,[["render",_]]);var Y=F,z=n("ff2a");function K(e,t,n,o,c,a){var i=Object(r["Q"])("InputSearchGoods"),s=Object(r["Q"])("a-form-item"),u=Object(r["Q"])("a-select-option"),l=Object(r["Q"])("a-select"),d=Object(r["Q"])("a-input"),b=Object(r["Q"])("InputDate"),f=Object(r["Q"])("a-form"),O=Object(r["Q"])("a-modal");return Object(r["H"])(),Object(r["j"])(O,{visible:o.visibleModal,"onUpdate:visible":t[7]||(t[7]=function(e){return o.visibleModal=e}),style:{top:"50px"},width:"600px",title:"Add Goods","confirm-loading":o.confirmModalLoading,afterClose:a.refreshModal,onOk:a.handleAddGoodsOk},{default:Object(r["bb"])((function(){return[Object(r["o"])(f,{"label-col":{flex:"100px"},"wrapper-col":{flex:"auto"}},{default:Object(r["bb"])((function(){return[Object(r["o"])(s,{label:"Goods"},{default:Object(r["bb"])((function(){return[Object(r["o"])(i,{goodsName:o.goods.goodsName,"onUpdate:goodsName":t[0]||(t[0]=function(e){return o.goods.goodsName=e}),onSelectGoods:a.handleSelectGoods,onSearching:a.handleSearching},null,8,["goodsName","onSelectGoods","onSearching"])]})),_:1}),Object(r["o"])(s,{label:"Group"},{default:Object(r["bb"])((function(){return[Object(r["o"])(l,{ref:"select",value:o.goods.group,"onUpdate:value":t[1]||(t[1]=function(e){return o.goods.group=e}),disabled:""!==o.goods.goodsID},{default:Object(r["bb"])((function(){return[(Object(r["H"])(!0),Object(r["l"])(r["b"],null,Object(r["O"])(o.UTILS_GROUP,(function(e,t){return Object(r["H"])(),Object(r["j"])(u,{key:t,value:e},{default:Object(r["bb"])((function(){return[Object(r["n"])(Object(r["U"])(e),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["value","disabled"])]})),_:1}),Object(r["o"])(s,{label:"Quantity"},{default:Object(r["bb"])((function(){return[Object(r["o"])(d,{value:o.goods.quantity,"onUpdate:value":t[2]||(t[2]=function(e){return o.goods.quantity=e}),valueModifiers:{number:!0},type:"number"},null,8,["value"])]})),_:1}),Object(r["o"])(s,{label:"Expiry Date"},{default:Object(r["bb"])((function(){return[Object(r["o"])(b,{datetime:o.goods.expiryDate,"onUpdate:datetime":t[3]||(t[3]=function(e){return o.goods.expiryDate=e})},null,8,["datetime"])]})),_:1}),Object(r["o"])(s,{label:"Cost Price"},{default:Object(r["bb"])((function(){return[Object(r["o"])(d,{value:o.goods.costPrice,"onUpdate:value":t[4]||(t[4]=function(e){return o.goods.costPrice=e}),valueModifiers:{number:!0},"addon-after":".000 vnđ",type:"number"},null,8,["value"])]})),_:1}),Object(r["o"])(s,{label:"Retail Price"},{default:Object(r["bb"])((function(){return[Object(r["o"])(d,{value:o.goods.retailPrice,"onUpdate:value":t[5]||(t[5]=function(e){return o.goods.retailPrice=e}),valueModifiers:{number:!0},"addon-after":".000 vnđ",type:"number"},null,8,["value"])]})),_:1}),Object(r["o"])(s,{label:"Wholesale Price"},{default:Object(r["bb"])((function(){return[Object(r["o"])(d,{value:o.goods.wholesalePrice,"onUpdate:value":t[6]||(t[6]=function(e){return o.goods.wholesalePrice=e}),valueModifiers:{number:!0},"addon-after":".000 vnđ",type:"number"},null,8,["value"])]})),_:1})]})),_:1})]})),_:1},8,["visible","confirm-loading","afterClose","onOk"])}var V=n("c9d9"),W=function(e){return Object(r["K"])("data-v-702c8d99"),e=e(),Object(r["I"])(),e},B={class:"input-date-time"},J=W((function(){return Object(r["m"])("span",{class:"dash"},"-",-1)})),Z=W((function(){return Object(r["m"])("span",{class:"dash"},"-",-1)}));function X(e,t,n,o,c,a){var i=Object(r["Q"])("a-input");return Object(r["H"])(),Object(r["l"])("div",B,[Object(r["o"])(i,{value:o.refDay,"onUpdate:value":a.onInputDay,class:"input-day",type:"number"},null,8,["value","onUpdate:value"]),J,Object(r["o"])(i,{value:o.refMonth,"onUpdate:value":a.onInputMonth,class:"input-month",type:"number"},null,8,["value","onUpdate:value"]),Z,Object(r["o"])(i,{value:o.refYear,"onUpdate:value":a.onInputYear,class:"input-year",type:"number"},null,8,["value","onUpdate:value"])])}n("d3b7"),n("25f0"),n("fb6a"),n("99af");var ee={props:["datetime"],setup:function(e){var t=Object(r["M"])(""),n=Object(r["M"])(""),o=Object(r["M"])("");return Object(r["Z"])((function(){return e.datetime}),(function(e){if("-"!==e){var r=new Date(e);"Invalid Date"===r.toString?(t.value="",n.value="",o.value=""):(t.value="0".concat(r.getDate()).slice(-2),n.value="0".concat(r.getMonth()+1).slice(-2),o.value=r.getFullYear())}})),{refDay:t,refMonth:n,refYear:o}},methods:{onInputDay:function(e){this.refDay=Number(e)>31?e.slice(-1):e,this.emitParent()},onInputMonth:function(e){this.refMonth=Number(e)>12?e.slice(-1):e,this.emitParent()},onInputYear:function(e){this.refYear="20".concat(e).slice(-4),this.emitParent()},emitParent:function(){if(!this.refDay||!this.refMonth||!this.refYear||this.refYear.length<4)this.$emit("update:datetime","-");else{var e=new Date("".concat(this.refYear,"-").concat(this.refMonth,"-").concat(this.refDay));this.$emit("update:datetime",e.getTime()||"-")}}}};n("7a0e");const te=G()(ee,[["render",X],["__scopeId","data-v-702c8d99"]]);var ne=te,re=n("c1c0"),oe={components:{InputDate:ne,InputSearchGoods:re["a"]},setup:function(){return{goods:Object(r["M"])({goodsID:"",goodsName:"",group:"",expiryDate:"",quantity:"",costPrice:"",retailPrice:"",wholesalePrice:""}),oldSellPrice:Object(r["M"])({retailPrice:"",wholesalePrice:""}),UTILS_GROUP:V["a"],visibleModal:Object(r["M"])(!1),confirmModalLoading:Object(r["M"])(!1),goodsList:U["b"]}},methods:{setDataModal:function(e){this.goods.goodsID=e.goodsID||"",this.goods.goodsName=e.goodsName||"",this.goods.group=e.group||"",this.goods.expiryDate=e.expiryDate||"--",this.goods.quantity=e.quantity||0,this.goods.costPrice=e.costPrice||0,this.goods.retailPrice=e.retailPrice||0,this.goods.wholesalePrice=e.wholesalePrice||0,this.oldSellPrice.retailPrice=this.goods.retailPrice,this.oldSellPrice.wholesalePrice=this.goods.wholesalePrice},openModal:function(e){this.visibleModal=!0,e&&this.setDataModal(e)},refreshModal:function(){this.setDataModal({}),this.confirmModalLoading=!1},handleSearching:function(e){this.setDataModal({}),this.goods.goodsName=e},handleSelectGoods:function(e){var t,n,r=e.goodsID,o=e.expiryDate,c={goodsID:r,goodsName:this.goodsList[r].goodsName,group:this.goodsList[r].group,expiryDate:Number(o),quantity:null===(t=this.goodsList[r].stockAvail[o])||void 0===t?void 0:t.quantity,costPrice:null===(n=this.goodsList[r].stockAvail[o])||void 0===n?void 0:n.costPrice,retailPrice:this.goodsList[r].retailPrice,wholesalePrice:this.goodsList[r].wholesalePrice};this.setDataModal(c)},notify:function(e){this.$notification.open({message:"Error !!!",description:e,placement:"topRight",duration:2})},checkValidation:function(){return this.goods.quantity?!!this.goods.costPrice||(this.notify("Please enter cost price field !"),!1):(this.notify("Please enter quantity field !"),!1)},addUpdateGoods:function(){var e=this;return Object(N["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.goods.goodsID){t.next=8;break}return n={goodsName:e.goods.goodsName,group:e.goods.group,retailPrice:e.goods.retailPrice,wholesalePrice:e.goods.wholesalePrice},t.next=4,Object(U["a"])(n);case 4:r=t.sent,e.goods.goodsID=r.goodsID,t.next=11;break;case 8:if(e.goods.retailPrice===e.oldSellPrice.retailPrice&&e.goods.wholesalePrice===e.oldSellPrice.wholesalePrice){t.next=11;break}return t.next=11,Object(U["c"])(e.goods.goodsID,{retailPrice:e.goods.retailPrice,wholesalePrice:e.goods.wholesalePrice});case 11:case"end":return t.stop()}}),t)})))()},handleAddGoodsOk:function(){var e=this;return Object(N["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkValidation()){t.next=2;break}return t.abrupt("return");case 2:return e.confirmModalLoading=!0,t.next=5,e.addUpdateGoods();case 5:n={goodsID:e.goods.goodsID,expiryDate:e.goods.expiryDate,costPrice:e.goods.costPrice,quantity:e.goods.quantity},e.$emit("addStockIn",n),e.visibleModal=!1;case 8:case"end":return t.stop()}}),t)})))()}}};const ce=G()(oe,[["render",K]]);var ae=ce,ie={components:{InputSearchProvider:Y,ModalCreateProvider:z["a"],ModalAddStockIn:ae,PlusOutlined:T["a"],EditTwoTone:L["a"]},setup:function(){var e=Object(r["M"])(""),t=Object(r["L"])({});return{goodsList:U["b"],providerID:Object(r["M"])(""),loadingCreateNote:Object(r["M"])(!1),shippingCost:e,stockIn:t}},computed:{totalMoney:function(){var e=Object.values(this.stockIn).reduce((function(e,t){var n=Object.values(t).reduce((function(e,t){var n=t.quantity*t.costPrice;return e+n}),0);return e+n}),0);return e+this.shippingCost}},methods:{handleSearchingProvider:function(){this.providerID=""},handleSelectProvider:function(e){this.providerID=e.id},handleCreateNewProvider:function(e){this.providerID=e.providerID,this.$refs.inputSearchProvider.providerName=e.providerName,this.$refs.inputSearchProvider.providerID=e.providerID},openModalCreateProvider:function(){this.$refs.modalAddProvider.openModal()},openModalAddStockIn:function(){this.$refs.modalAddStockIn.openModal()},addStockIn:function(e){var t=e.goodsID,n=e.expiryDate,r=e.costPrice,o=e.quantity;this.stockIn[t]||(this.stockIn[t]={}),this.stockIn[t][n]||(this.stockIn[t][n]={}),this.stockIn[t][n]={quantity:(this.stockIn[t][n].quantity||0)+o,costPrice:r}},editStockIn:function(e,t){this.$refs.modalAddStockIn.openModal({goodsID:e,goodsName:this.goodsList[e].goodsName,group:this.goodsList[e].group,expiryDate:Number(t),quantity:this.stockIn[e][t].quantity,costPrice:this.stockIn[e][t].costPrice,retailPrice:this.goodsList[e].retailPrice,wholesalePrice:this.goodsList[e].wholesalePrice}),delete this.stockIn[e][t]},handleCancleForm:function(){this.$router.back()},notify:function(e){this.$notification.open({message:"Error !!!",description:e,placement:"topRight",duration:2})},checkValidation:function(){return this.providerID?0!==Object.keys(this.stockIn).length||(this.notify("You must choose at least one goods !"),!1):(this.notify("You are required to choose a specific provider !"),!1)},startCreateNote:function(){var e=this;return Object(N["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkValidation()){t.next=2;break}return t.abrupt("return");case 2:return e.loadingCreateNote=!0,n={providerID:e.providerID,shippingCost:e.shippingCost,stockIn:e.stockIn,totalMoney:e.totalMoney},t.next=6,Object(A["a"])(n);case 6:e.loadingCreateNote=!1,e.$router.back();case 8:case"end":return t.stop()}}),t)})))()},formatDateTime:function(e){return Object(Q["a"])(e,"DD/MM/YY")}}};n("b929");const se=G()(ie,[["render",C],["__scopeId","data-v-192fbb74"]]);t["default"]=se},"43d7":function(e,t,n){"use strict";var r=n("7a23"),o={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M761.1 288.3L687.8 215 325.1 577.6l-15.6 89 88.9-15.7z",fill:t}},{tag:"path",attrs:{d:"M880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32zm-622.3-84c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89z",fill:e}}]}},name:"edit",theme:"twotone"},c=o,a=n("b3f0");function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e,t){var n=i({},e,t.attrs);return r["o"](a["a"],r["w"](n,{icon:c}),null)};u.displayName="EditTwoTone",u.inheritAttrs=!1;t["a"]=u},4873:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return d}));var r=n("3835"),o=n("1da1"),c=(n("96cf"),n("159b"),n("d81d"),n("b64b"),n("d3b7"),n("3ca3"),n("ddb0"),n("4fad"),n("e71f")),a=n("7a23"),i=(new Date).getTime(),s=Object(a["L"])({}),u=Object(c["h"])(),l=Object(c["l"])(Object(c["c"])(u,"IMPORTNOTE"),Object(c["p"])("updatedAt",">",i-6048e5),Object(c["k"])("updatedAt","asc"),Object(c["i"])(10));Object(c["j"])(l,(function(e){e.docChanges().forEach((function(e){"added"!==e.type&&"modified"!==e.type||(s[e.doc.id]=e.doc.data()),"removed"===e.type&&delete s[e.doc.id]}))}));var d=function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Object(c["e"])(Object(c["c"])(u,"IMPORTNOTE")),e.next=3,Object(c["m"])(u,function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(o){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Object.keys(t.stockIn).map((function(e){return o.get(Object(c["e"])(u,"WAREHOUSE",e))})),e.next=3,Promise.all(a);case 3:i=e.sent,i.forEach((function(e){var a=e.data()||{},i=a.stockAvail;Object.entries(t.stockIn[e.id]).forEach((function(e){var t=Object(r["a"])(e,2),n=t[0],o=t[1],c=o.quantity,a=o.costPrice;i[n]||(i[n]={}),i[n]={costPrice:a,quantity:(i[n].quantity||0)+c}})),o.update(Object(c["e"])(u,"WAREHOUSE",e.id),{stockAvail:i,importNoteIDList:Object(c["b"])(n.id)})})),o.set(n,{providerID:t.providerID,shippingCost:t.shippingCost,totalMoney:t.totalMoney,stockIn:t.stockIn,createdAt:(new Date).getTime(),updatedAt:(new Date).getTime(),removedAt:0}),o.update(Object(c["e"])(u,"PROVIDER",t.providerID),{importNoteIDList:Object(c["b"])(n.id)});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},"6ffa":function(e,t,n){"use strict";var r=n("7a23"),o={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:e}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm193.4 225.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.3 0 19.9 5 25.9 13.3l71.2 98.8 157.2-218c6-8.4 15.7-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.4 12.7z",fill:t}},{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z",fill:e}}]}},name:"check-circle",theme:"twotone"},c=o,a=n("b3f0");function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e,t){var n=i({},e,t.attrs);return r["o"](a["a"],r["w"](n,{icon:c}),null)};u.displayName="CheckCircleTwoTone",u.inheritAttrs=!1;t["a"]=u},"7a0e":function(e,t,n){"use strict";n("3269")},"7db8":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return u}));var r=n("1da1"),o=(n("96cf"),n("159b"),n("e71f")),c=n("7a23"),a=Object(c["L"])({}),i=Object(o["h"])(),s=Object(o["l"])(Object(o["c"])(i,"PROVIDER"));Object(o["j"])(s,(function(e){e.docChanges().forEach((function(e){"added"===e.type||"modified"===e.type?a[e.doc.id]=e.doc.data():"removed"===e.type&&delete a[e.doc.id]}))}));var u=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,c,a,s,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["a"])(Object(o["c"])(i,"PROVIDER"),{providerName:t.providerName,phone:t.phone,address:t.address,createdAt:(new Date).getTime(),updatedAt:(new Date).getTime(),removedAt:0});case 2:return n=e.sent,e.next=5,Object(o["f"])(n);case 5:return r=e.sent,c=r.id,a=r.data(),s=a.providerName,u=a.phone,l=a.address,e.abrupt("return",{providerID:c,providerName:s,phone:u,address:l});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},"93e1":function(e,t,n){},9648:function(e,t,n){"use strict";var r=n("7a23"),o={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:e}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm171.8 527.1c1.2 1.5 1.9 3.3 1.9 5.2 0 4.5-3.6 8-8 8l-66-.3-99.3-118.4-99.3 118.5-66.1.3c-4.4 0-8-3.6-8-8 0-1.9.7-3.7 1.9-5.2L471 512.3l-130.1-155a8.32 8.32 0 01-1.9-5.2c0-4.5 3.6-8 8-8l66.1.3 99.3 118.4 99.4-118.5 66-.3c4.4 0 8 3.6 8 8 0 1.9-.6 3.8-1.8 5.2l-130.1 155 129.9 154.9z",fill:t}},{tag:"path",attrs:{d:"M685.8 352c0-4.4-3.6-8-8-8l-66 .3-99.4 118.5-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155-130.1 154.9a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3 99.3-118.5L611.7 680l66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.9 512.2l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z",fill:e}}]}},name:"close-circle",theme:"twotone"},c=o,a=n("b3f0");function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e,t){var n=i({},e,t.attrs);return r["o"](a["a"],r["w"](n,{icon:c}),null)};u.displayName="CloseCircleTwoTone",u.inheritAttrs=!1;t["a"]=u},af6c:function(e,t,n){"use strict";n("93e1")},b65c:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return l}));var r=n("5530"),o=n("1da1"),c=(n("96cf"),n("159b"),n("e71f")),a=n("7a23"),i=Object(a["L"])({}),s=Object(c["h"])();Object(c["j"])(Object(c["l"])(Object(c["c"])(s,"WAREHOUSE")),(function(e){e.docChanges().forEach((function(e){"added"===e.type||"modified"===e.type?i[e.doc.id]=e.doc.data():"removed"===e.type&&delete i[e.doc.id]}))}));var u=function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,o,a,i,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.goodsName,o=t.group,a=t.retailPrice,i=t.wholesalePrice,e.next=3,Object(c["a"])(Object(c["c"])(s,"WAREHOUSE"),{goodsName:n,group:o,retailPrice:a,wholesalePrice:i,stockAvail:{},importNoteIDList:[],exportNoteIDList:[],createdAt:(new Date).getTime(),updatedAt:(new Date).getTime(),removedAt:0});case 3:return u=e.sent,e.next=6,Object(c["f"])(u);case 6:return l=e.sent,e.abrupt("return",Object(r["a"])({goodsID:l.id},l.data()));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){var o,a,i,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=n.retailPrice,a=n.wholesalePrice,i=Object(c["e"])(s,"WAREHOUSE",t),e.next=4,Object(c["o"])(i,{retailPrice:o,wholesalePrice:a,updatedAt:(new Date).getTime()});case 4:return e.next=6,Object(c["f"])(i);case 6:return u=e.sent,e.abrupt("return",Object(r["a"])({goodsID:u.id},u.data()));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},b929:function(e,t,n){"use strict";n("cb68")},c1c0:function(e,t,n){"use strict";n("a9e3");var r=n("7a23"),o={class:"goods-name"},c={class:"goods-number"};function a(e,t,n,a,i,s){var u=Object(r["Q"])("InputAutoComplete");return Object(r["H"])(),Object(r["j"])(u,{searchText:a.searchText,"onUpdate:searchText":t[0]||(t[0]=function(e){return a.searchText=e}),dataSource:s.convertGoodList,onSearching:s.handleSearching,onSelectItem:s.handleSelectItem},{item:Object(r["bb"])((function(e){var t=e.item,n=t.goodsName,a=t.stockAvail;return[Object(r["m"])("p",o,Object(r["U"])(n),1),Object(r["m"])("p",c,Object(r["U"])(s.formatDateTime(Number(a.expiryDate)))+" - "+Object(r["U"])(a.quantity),1)]})),_:1},8,["searchText","dataSource","onSearching","onSelectItem"])}var i=n("5530"),s=n("15fd"),u=n("3835"),l=(n("159b"),n("4fad"),n("b64b"),n("99af"),n("ac1f"),n("1276"),["value"]),d={key:0,class:"select-search"},b=["onClick"],f={class:"item-json"};function O(e,t,n,o,c,a){var i=Object(r["R"])("click-outside");return Object(r["cb"])((Object(r["H"])(),Object(r["l"])("div",null,[Object(r["m"])("input",{value:n.searchText,onInput:t[0]||(t[0]=function(){return a.handleChangeInput&&a.handleChangeInput.apply(a,arguments)}),onKeydown:t[1]||(t[1]=function(){return a.handleKeydown&&a.handleKeydown.apply(a,arguments)}),class:"input-search"},null,40,l),o.isSearching?(Object(r["H"])(),Object(r["l"])("div",d,[(Object(r["H"])(!0),Object(r["l"])(r["b"],null,Object(r["O"])(a.filterData,(function(t,n,c){return Object(r["H"])(),Object(r["l"])("div",{key:c,class:Object(r["y"])({active:c==o.indexFocus,"item-search":!0}),onClick:Object(r["db"])((function(e){return a.handleSelectItem(c)}),["prevent"])},[Object(r["P"])(e.$slots,"item",{index:c,key:n,item:t},(function(){return[Object(r["m"])("div",f,Object(r["U"])(c)+" - "+Object(r["U"])(n)+" - "+Object(r["U"])(JSON.stringify(t)),1)]}),!0)],10,b)})),128))])):Object(r["k"])("",!0)],512)),[[i,a.handleClickOutside]])}var h=n("ade3"),p=n("2909"),j=(n("d81d"),n("4de4"),n("bcc2")),v={props:{searchText:String,dataSource:{type:[Array,Object]}},setup:function(){return{indexFocus:Object(r["M"])(-1),isSearching:Object(r["M"])(!1)}},computed:{filterData:function(){var e=this;return Object.assign.apply(Object,[{}].concat(Object(p["a"])(Object.entries(this.dataSource).filter((function(t){var n=Object(u["a"])(t,2),r=(n[0],n[1]);return e.logicFilter(r,e.searchText)})).map((function(e){var t=Object(u["a"])(e,2),n=t[0],r=t[1];return Object(h["a"])({},n,r)})))))},dataLeng:function(){return Object.keys(this.filterData).length}},methods:{handleChangeInput:function(e){this.$emit("update:searchText",e.target.value),this.$emit("searching",e.target.value),this.indexFocus=-1,e.target.value?this.isSearching=!0:this.isSearching=!1},logicFilter:function(e,t){return Object(j["b"])(e.goodsName,this.searchText)},handleKeydown:function(e){40===e.keyCode&&(this.indexFocus+=1,this.indexFocus>=this.dataLeng&&(this.indexFocus=0)),38===e.keyCode&&(this.indexFocus-=1,this.indexFocus<0&&(this.indexFocus=this.dataLeng-1)),13===e.keyCode&&this.handleSelectItem(this.indexFocus)},handleSelectItem:function(e){this.indexFocus=-1;var t=Object(u["a"])(Object.entries(this.filterData)[e],2),n=t[0],r=t[1];this.$emit("selectItem",{key:n,value:r}),this.closeSelectItem()},handleClickOutside:function(){this.indexFocus=-1,this.closeSelectItem()},closeSelectItem:function(){var e=this;this.$nextTick((function(){e.isSearching=!1}))}}},m=(n("dd03"),n("6b0d")),g=n.n(m);const y=g()(v,[["render",O],["__scopeId","data-v-df4d8fc4"]]);var P=y,w=n("b65c"),k=["stockAvail"],I={props:["goodsName"],components:{InputAutoComplete:P},setup:function(){return{searchText:Object(r["M"])(""),goodsList:w["b"]}},watch:{goodsName:function(e){this.searchText=e}},computed:{convertGoodList:function(){var e={};return Object.entries(this.goodsList).forEach((function(t){var n=Object(u["a"])(t,2),r=n[0],o=n[1],c=o.stockAvail,a=Object(s["a"])(o,k);0===Object.keys(c).length?e["".concat(r,":-")]=Object(i["a"])(Object(i["a"])({},a),{},{stockAvail:{expiryDate:"-",quantity:null,costPrice:null}}):Object.entries(c).forEach((function(t){var n=Object(u["a"])(t,2),o=n[0],c=n[1];e["".concat(r,":").concat(o)]=Object(i["a"])(Object(i["a"])({},a),{},{stockAvail:Object(i["a"])({expiryDate:o},c)})}))})),e}},methods:{handleSearching:function(e){this.$emit("update:goodsName",e),this.$emit("searching",e)},handleSelectItem:function(e){var t=e.key,n=e.value;this.searchText=n.goodsName,this.$emit("update:goodsName",n.goodsName),this.$emit("selectGoods",{goodsID:t.split(":")[0],expiryDate:t.split(":")[1]})},formatDateTime:function(e){return Object(j["a"])(e,"DD/MM/YY")}}};n("af6c");const D=g()(I,[["render",a],["__scopeId","data-v-95ea302a"]]);t["a"]=D},c9d9:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return c}));var r=["Kem Chống Nắng","Tẩy Trang","Sữa Rửa Mặt","Tẩy Da Chết","Tonner","Serum","Đặc Trị","Kem Dưỡng","Sữa Tắm","Thuốc Viên","Khác"],o={unit:["Viettel Post","Shoppee","Giao Hàng Tiết Kiệm","Ship Thường"],method:["Bank Transfer","COD"]},c={method:["Bank Transfer","COD"]}},cb68:function(e,t,n){},d81d:function(e,t,n){"use strict";var r=n("23e7"),o=n("b727").map,c=n("1dde"),a=c("map");r({target:"Array",proto:!0,forced:!a},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},dd03:function(e,t,n){"use strict";n("f9f3")},f9f3:function(e,t,n){},ff2a:function(e,t,n){"use strict";var r=n("7a23");function o(e,t,n,o,c,a){var i=Object(r["Q"])("a-input"),s=Object(r["Q"])("a-form-item"),u=Object(r["Q"])("a-form"),l=Object(r["Q"])("a-modal");return Object(r["H"])(),Object(r["j"])(l,{visible:o.visibleModal,"onUpdate:visible":t[3]||(t[3]=function(e){return o.visibleModal=e}),width:"900px",title:"Create New Provider","confirm-loading":o.confirmModalLoading,afterClose:a.refreshModal,onOk:a.handleCreateProviderOk},{default:Object(r["bb"])((function(){return[Object(r["o"])(u,{model:o.newProvider,"label-col":{span:4},"wrapper-col":{span:20}},{default:Object(r["bb"])((function(){return[Object(r["o"])(s,{label:"Name"},{default:Object(r["bb"])((function(){return[Object(r["o"])(i,{value:o.newProvider.providerName,"onUpdate:value":t[0]||(t[0]=function(e){return o.newProvider.providerName=e})},null,8,["value"])]})),_:1}),Object(r["o"])(s,{label:"Phone"},{default:Object(r["bb"])((function(){return[Object(r["o"])(i,{value:o.newProvider.phone,"onUpdate:value":t[1]||(t[1]=function(e){return o.newProvider.phone=e})},null,8,["value"])]})),_:1}),Object(r["o"])(s,{label:"Address"},{default:Object(r["bb"])((function(){return[Object(r["o"])(i,{value:o.newProvider.address,"onUpdate:value":t[2]||(t[2]=function(e){return o.newProvider.address=e})},null,8,["value"])]})),_:1})]})),_:1},8,["model"])]})),_:1},8,["visible","confirm-loading","afterClose","onOk"])}var c=n("1da1"),a=(n("96cf"),n("7db8")),i={setup:function(){return{visibleModal:Object(r["M"])(!1),confirmModalLoading:Object(r["M"])(!1),newProvider:Object(r["L"])({providerName:"",phone:"",address:""})}},methods:{openModal:function(){this.visibleModal=!0},refreshModal:function(){this.newProvider.providerName="",this.newProvider.phone="",this.newProvider.address="",this.confirmModalLoading=!1},handleCreateProviderOk:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.confirmModalLoading=!0,t.next=3,Object(a["a"])({providerName:e.newProvider.providerName,phone:e.newProvider.phone,address:e.newProvider.address});case 3:n=t.sent,e.$emit("newProviderCreated",n),e.visibleModal=!1;case 6:case"end":return t.stop()}}),t)})))()}}},s=n("6b0d"),u=n.n(s);const l=u()(i,[["render",o]]);t["a"]=l}}]);
//# sourceMappingURL=import-note-add.17ff4e27.js.map