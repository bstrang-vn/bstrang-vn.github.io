{"version":3,"sources":["webpack:///./src/components/export-note/export-note-details/ExportNoteDetails.vue","webpack:///./src/components/export-note/export-note-details/ModalInvoices.vue","webpack:///./src/components/export-note/export-note-details/ModalInvoices.vue?d3f1","webpack:///./src/components/export-note/export-note-details/ExportNoteDetails.vue?59f8"],"names":["class","exportNote","customer","customerName","color","status","formatDateTime","updatedAt","other","ref","$refs","modalInvoices","openModal","confirmRefundExportNote","loading","loadingRefundExportNote","type","redirectExportNoteEdit","confirmDeleteExportNote","loadingDeleteExportNote","redirectExportNoteCopy","$router","go","startProcessExportNote","finance","debt","visiblePayDebt","visible","startPayDebtExportNote","confirm-loading","loadingPayDebt","title","value","numberPayDebt","addon-after","colspan","visibleModal","style","width","stockList","stockIndex","goodsName","unit","batchList","batchID","batchIndex","quantity","expectedPrice","actualPrice","key","formatNumber","revenue","buyerPaysShip","props","setup","computed","Object","entries","this","stockOut","map","goodsID","findGoods","find","goods","sort","a","b","methods","str","number","__exports__","components","ExportNoteTableGoods","ModalInvoices","route","realtimeExportNote","params","id","data","loadingProcessExportNote","UTILS_EXPORTNOTES","unmounted","unSubscribe","watch","exportNoteID","message","success","console","error","toString","startRefundExportNote","startDeleteExportNote","push","name","mode","that","confirm","icon","ExclamationCircleOutlined","content","onOk","render"],"mappings":"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","file":"js/chunk-2d0a30bf.52bdd42e.js","sourcesContent":["<template>\n\t<h1 class=\"title-content\">Thông tin đơn hàng</h1>\n\t<div class=\"flex items-center mb-2\">\n\t\t<div class=\"flex-none w-20\">Khách hàng</div>\n\t\t<div class=\"w-3\">:</div>\n\t\t<div class=\"font-bold\">{{ exportNote.customer?.customerName }}</div>\n\t</div>\n\t<div class=\"flex items-center mb-2\">\n\t\t<div class=\"flex-none w-20\">Status</div>\n\t\t<div class=\"w-3\">:</div>\n\t\t<a-tag :color=\"exportNote.status === 'Pending' ? 'orange' : '#87d068'\">\n\t\t\t{{ exportNote.status }}\n\t\t</a-tag>\n\t</div>\n\t<div class=\"flex items-center mb-2\">\n\t\t<div class=\"flex-none w-20\">Ngày</div>\n\t\t<div class=\"w-3\">:</div>\n\t\t<div>{{ formatDateTime(exportNote.updatedAt) }}</div>\n\t</div>\n\t<div class=\"flex items-center mb-2\">\n\t\t<div class=\"flex-none w-20\">Ghi chú</div>\n\t\t<div class=\"w-3\">:</div>\n\t\t<div>{{ exportNote.other }}</div>\n\t</div>\n\t<ModalInvoices :exportNote=\"exportNote\" ref=\"modalInvoices\" />\n\t<div class=\"flex mb-2\">\n\t\t<a-button @click=\"$refs.modalInvoices.openModal(exportNote)\" class=\"mr-auto\">\n\t\t\tHóa Đơn\n\t\t</a-button>\n\t\t<a-button\n\t\t\tv-if=\"exportNote.status === 'Success'\"\n\t\t\t@click=\"confirmRefundExportNote\"\n\t\t\t:loading=\"loadingRefundExportNote\"\n\t\t\ttype=\"dashed\"\n\t\t>\n\t\t\tHoàn trả\n\t\t</a-button>\n\t\t<div v-if=\"exportNote.status === 'Pending'\" class=\"flex\">\n\t\t\t<a-button @click=\"redirectExportNoteEdit\" type=\"dashed\" class=\"mr-2\">Sửa</a-button>\n\t\t\t<a-button @click=\"confirmDeleteExportNote\" :loading=\"loadingDeleteExportNote\" type=\"dashed\">\n\t\t\t\tXóa\n\t\t\t</a-button>\n\t\t</div>\n\t\t<a-button @click=\"redirectExportNoteCopy\" class=\"ml-2\">Copy Đơn</a-button>\n\t</div>\n\n\t<div class=\"mb-2\">\n\t\t<ExportNoteTableGoods :exportNote=\"exportNote\" />\n\t</div>\n\n\t<div class=\"flex justify-between\">\n\t\t<a-button @click=\"$router.go(-1)\">Back</a-button>\n\t\t<div v-if=\"exportNote.status === 'Pending'\" class=\"flex\">\n\t\t\t<a-button @click=\"startProcessExportNote\" type=\"primary\" class=\"mr-2\">\n\t\t\t\tGửi Hàng\n\t\t\t</a-button>\n\t\t</div>\n\t\t<div v-if=\"exportNote.status === 'Success' && this.exportNote.finance?.debt > 0\">\n\t\t\t<a-button type=\"primary\" @click=\"visiblePayDebt = true\">Trả nợ</a-button>\n\t\t\t<a-modal\n\t\t\t\tv-model:visible=\"visiblePayDebt\"\n\t\t\t\t@ok=\"startPayDebtExportNote\"\n\t\t\t\t:confirm-loading=\"loadingPayDebt\"\n\t\t\t\ttitle=\"Trả nợ\"\n\t\t\t>\n\t\t\t\t<div class=\"flex items-center mb-2\">\n\t\t\t\t\t<div class=\"w-20 flex-none\">Số tiền</div>\n\t\t\t\t\t<a-input\n\t\t\t\t\t\tv-model:value.number=\"numberPayDebt\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\taddon-after=\".000 vnđ\"\n\t\t\t\t\t\tclass=\"flex-auto\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</a-modal>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { ref, createVNode } from 'vue'\nimport { useRoute } from 'vue-router'\nimport { Modal, message } from 'ant-design-vue'\nimport { ExclamationCircleOutlined } from '@ant-design/icons-vue'\nimport {\n\tstartRealtimeExportNote,\n\tprocessExportNote,\n\trefundExportNote,\n\tpayDebtExportNote,\n\tdeleteExportNote,\n} from '@/firebase/useExportNote'\nimport ExportNoteTableGoods from '@/components/export-note/ExportNoteTableGoods.vue'\nimport ModalInvoices from '@/components/export-note/export-note-details/ModalInvoices.vue'\nimport { UTILS_EXPORTNOTES } from '@/utils/constants'\nimport { MyFormatDateTime } from '@/utils/convert'\n\nexport default {\n\tcomponents: { ExportNoteTableGoods, ModalInvoices },\n\tsetup() {\n\t\tconst route = useRoute()\n\t\tconst realtimeExportNote = startRealtimeExportNote(route.params.id)\n\t\tconst exportNote = realtimeExportNote.data\n\n\t\treturn {\n\t\t\texportNote,\n\t\t\trealtimeExportNote,\n\t\t\tvisiblePayDebt: ref(false),\n\t\t\tnumberPayDebt: ref(0),\n\t\t\tloadingProcessExportNote: ref(false),\n\t\t\tloadingRefundExportNote: ref(false),\n\t\t\tloadingDeleteExportNote: ref(false),\n\t\t\tloadingPayDebt: ref(false),\n\t\t\tUTILS_EXPORTNOTES,\n\t\t}\n\t},\n\tunmounted() {\n\t\tthis.realtimeExportNote.unSubscribe()\n\t},\n\twatch: {\n\t\texportNote() {\n\t\t\tthis.numberPayDebt = this.exportNote.finance?.debt\n\t\t},\n\t},\n\tmethods: {\n\t\tasync startProcessExportNote() {\n\t\t\tthis.loadingProcessExportNote = true\n\t\t\ttry {\n\t\t\t\tawait processExportNote(this.exportNote.exportNoteID)\n\t\t\t\tmessage.success('Process export note success !!!', 2)\n\t\t\t\t// this.$router.push({ name: 'ExportNote List', params: {} })\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error)\n\t\t\t\tmessage.error(error.toString(), 10)\n\t\t\t} finally {\n\t\t\t\tthis.loadingProcessExportNote = false\n\t\t\t}\n\t\t},\n\t\tasync startRefundExportNote() {\n\t\t\tthis.loadingRefundExportNote = true\n\t\t\ttry {\n\t\t\t\tawait refundExportNote(this.exportNote.exportNoteID)\n\t\t\t\tmessage.success('Refund export note success !!!', 2)\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error)\n\t\t\t\tmessage.error(error.toString(), 10)\n\t\t\t} finally {\n\t\t\t\tthis.loadingRefundExportNote = false\n\t\t\t}\n\t\t},\n\t\tasync startPayDebtExportNote() {\n\t\t\tthis.loadingPayDebt = true\n\t\t\ttry {\n\t\t\t\tawait payDebtExportNote(this.exportNote.exportNoteID, this.numberPayDebt)\n\t\t\t\tmessage.success(`Trả nợ đơn hàng thành công : ${this.numberPayDebt} !!!`, 2)\n\t\t\t\tthis.visiblePayDebt = false\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error)\n\t\t\t\tmessage.error(error.toString(), 10)\n\t\t\t} finally {\n\t\t\t\tthis.loadingPayDebt = false\n\t\t\t}\n\t\t},\n\t\tasync startDeleteExportNote() {\n\t\t\tthis.loadingDeleteExportNote = true\n\t\t\ttry {\n\t\t\t\tawait deleteExportNote(this.exportNote.exportNoteID)\n\t\t\t\tmessage.success('Xóa đơn hàng thành công !!!', 2)\n\t\t\t\tthis.$router.push({ name: 'ExportNote List', params: {} })\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error)\n\t\t\t\tmessage.error(error.toString(), 10)\n\t\t\t} finally {\n\t\t\t\tthis.loadingDeleteExportNote = false\n\t\t\t}\n\t\t},\n\t\tredirectExportNoteEdit() {\n\t\t\tthis.$router.push({\n\t\t\t\tname: 'ExportNote Create Modify',\n\t\t\t\tparams: { id: this.exportNote.exportNoteID, mode: 'edit' },\n\t\t\t})\n\t\t},\n\t\tredirectExportNoteCopy() {\n\t\t\tthis.$router.push({\n\t\t\t\tname: 'ExportNote Create Modify',\n\t\t\t\tparams: { id: this.exportNote.exportNoteID, mode: 'copy' },\n\t\t\t})\n\t\t},\n\t\tconfirmRefundExportNote() {\n\t\t\tconst that = this\n\t\t\tModal.confirm({\n\t\t\t\ttitle: 'Confirm',\n\t\t\t\ticon: createVNode(ExclamationCircleOutlined),\n\t\t\t\tcontent: 'Bạn có chắc chắn muốn hoàn trả đơn hàng này ?',\n\t\t\t\tonOk() {\n\t\t\t\t\tthat.startRefundExportNote()\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\tconfirmDeleteExportNote() {\n\t\t\tconst that = this\n\t\t\tModal.confirm({\n\t\t\t\ttitle: 'Confirm',\n\t\t\t\ticon: createVNode(ExclamationCircleOutlined),\n\t\t\t\tcontent: 'Bạn có chắc chắn muốn xóa đơn hàng này ?',\n\t\t\t\tonOk() {\n\t\t\t\t\tthat.startDeleteExportNote()\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\tformatDateTime(str) {\n\t\t\treturn MyFormatDateTime(str, 'DD/MM/YYYY')\n\t\t},\n\t},\n}\n</script>\n","<template>\n\t<a-modal v-model:visible=\"visibleModal\" title=\"Invoices\" @ok=\"() => {}\" style=\"top: 20px\" width=\"600px\">\n\t\t<div>\n\t\t\t<div class=\"flex justify-between\">\n\t\t\t\t<div class=\"flex flex-col items-center\">\n\t\t\t\t\t<p>Da liễu thẩm mỹ</p>\n\t\t\t\t\t<p>MEDI</p>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"flex flex-col items-center\">\n\t\t\t\t\t<p>Bác sĩ Bùi Trang</p>\n\t\t\t\t\t<p>0968.100.994</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"flex justify-center font-bold text-xl my-5\">HÓA ĐƠN</div>\n\t\t<div class=\"flex items-center mb-4\">\n\t\t\t<div class=\"w-20 flex-none\">Khách hàng</div>\n\t\t\t<div class=\"w-4 flex-none\">:</div>\n\t\t\t<div>{{ exportNote.customer?.customerName }}</div>\n\t\t</div>\n\n\t\t<div class=\"wrapper mb-4\">\n\t\t\t<table>\n\t\t\t\t<thead>\n\t\t\t\t\t<th>Tên Hàng</th>\n\t\t\t\t\t<th>ĐV</th>\n\t\t\t\t\t<th>SL</th>\n\t\t\t\t\t<th>Đơn giá</th>\n\t\t\t\t\t<th>T.Tiền</th>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t<template v-for=\"({ goodsName, unit, batchList }, stockIndex) in stockList\" :key=\"stockIndex\">\n\t\t\t\t\t\t<tr\n\t\t\t\t\t\t\tv-for=\"({ quantity, expectedPrice, actualPrice }, batchID, batchIndex) in batchList\"\n\t\t\t\t\t\t\t:key=\"batchIndex\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<td>{{ goodsName }}</td>\n\t\t\t\t\t\t\t<td class=\"text-center\">{{ unit }}</td>\n\t\t\t\t\t\t\t<td class=\"text-right text-lg text-bold\">{{ quantity }}</td>\n\t\t\t\t\t\t\t<td class=\"text-right\">\n\t\t\t\t\t\t\t\t<p>{{ formatNumber(actualPrice) }}</p>\n\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\tv-if=\"expectedPrice !== actualPrice\"\n\t\t\t\t\t\t\t\t\tclass=\"text-xs line-through italic text-yellow-500\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{{ formatNumber(expectedPrice) }}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td class=\"text-right\">{{ formatNumber(quantity * actualPrice) }}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</template>\n\t\t\t\t\t<tr class=\"text-right\">\n\t\t\t\t\t\t<td colspan=\"4\">Tổng tiền</td>\n\t\t\t\t\t\t<td>{{ formatNumber(exportNote.finance?.revenue) }}</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr class=\"text-right\">\n\t\t\t\t\t\t<td colspan=\"4\">Ship</td>\n\t\t\t\t\t\t<td>{{ formatNumber(exportNote.finance?.buyerPaysShip) }}</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr class=\"text-right\">\n\t\t\t\t\t\t<td colspan=\"4\">KH cần trả</td>\n\t\t\t\t\t\t<td>{{ formatNumber(exportNote.finance?.revenue + exportNote.finance?.buyerPaysShip) }}</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td class=\"text-right\">Ngân hàng</td>\n\t\t\t\t\t\t<td colspan=\"4\">VietinBank</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td class=\"text-right\">STK</td>\n\t\t\t\t\t\t<td colspan=\"4\" class=\"font-bold text-lg text-red-700\">109.869.634.541</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td class=\"text-right\">Chủ TK</td>\n\t\t\t\t\t\t<td colspan=\"4\">Bùi Thị Trang</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</div>\n\t\t<div class=\"flex justify-end\">Ngày tạo đơn: {{ formatDateTime(exportNote.updatedAt) }}</div>\n\t</a-modal>\n</template>\n\n<script>\nimport { ref } from 'vue'\nimport { goodsArray } from '@/firebase/useWarehouse'\nimport { MyFormatDateTime, MyFormatNumber } from '@/utils/convert'\n\nexport default {\n\tprops: ['exportNote'],\n\tsetup(props) {\n\t\treturn {\n\t\t\tvisibleModal: ref(false),\n\t\t}\n\t},\n\tcomputed: {\n\t\tstockList() {\n\t\t\treturn Object.entries(this.exportNote.stockOut || {})\n\t\t\t\t.map(([goodsID, batchList]) => {\n\t\t\t\t\tconst findGoods = goodsArray.find(goods => goods.goodsID === goodsID)\n\t\t\t\t\treturn {\n\t\t\t\t\t\tgoodsID,\n\t\t\t\t\t\tgoodsName: findGoods.goodsName,\n\t\t\t\t\t\tunit: findGoods.unit,\n\t\t\t\t\t\tbatchList,\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.sort((a, b) => {\n\t\t\t\t\tif (a.goodsName > b.goodsName) return 1\n\t\t\t\t\tif (a.goodsName < b.goodsName) return -1\n\t\t\t\t\treturn 0\n\t\t\t\t})\n\t\t},\n\t},\n\tmethods: {\n\t\topenModal() {\n\t\t\tthis.visibleModal = true\n\t\t},\n\t\tformatDateTime(str) {\n\t\t\treturn MyFormatDateTime(str, 'DD/MM/YYYY')\n\t\t},\n\t\tformatNumber(number) {\n\t\t\treturn MyFormatNumber(number, 3)\n\t\t},\n\t},\n}\n</script>\n","import { render } from \"./ModalInvoices.vue?vue&type=template&id=780c6c1e\"\nimport script from \"./ModalInvoices.vue?vue&type=script&lang=js\"\nexport * from \"./ModalInvoices.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Projects\\\\bstrang-vn\\\\bstrang-vn--vuejs\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ExportNoteDetails.vue?vue&type=template&id=09e0d8da\"\nimport script from \"./ExportNoteDetails.vue?vue&type=script&lang=js\"\nexport * from \"./ExportNoteDetails.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Projects\\\\bstrang-vn\\\\bstrang-vn--vuejs\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}